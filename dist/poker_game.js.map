{"version":3,"file":"poker_game.js","sources":["src/containers/UpdatableContainer.js","src/lib/BezierEasing.js","src/Card.js","src/CardCollection.js","src/CardsGenerator.js","src/gui/LinearLayout.js","src/PlayerArea.js","src/Arrays.js","src/Numbers.js","src/CardComboList.js","src/Config.js","src/gui/debug/GUICombosList.js","src/lib/Keyboard.js","src/gui/GUICardSelector.js","src/lib/GUIText.js","src/Tracker.js","src/Game.js","src/poker_game.js"],"sourcesContent":["export default class UpdatableContainer extends PIXI.Container {\n    update(game) {\n        this.updateChildren(game);\n    }\n\n    updateChildren(game) {\n        this.children.forEach(function (child) { \n            child.update(game); \n        });\n    }\n}","\n/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A(aA1, aA2) {\n    return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n}\n\nfunction B(aA1, aA2) {\n    return 3.0 * aA2 - 6.0 * aA1;\n}\n\nfunction C(aA1) {\n    return 3.0 * aA1;\n}\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier(aT, aA1, aA2) {\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n}\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope(aT, aA1, aA2) {\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n}\n\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        } else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n    return currentT;\n}\n\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\n\nexport default function bezier(mX1, mY1, mX2, mY2) {\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n        throw new Error('bezier x values must be in [0, 1] range');\n    }\n\n    // Precompute samples table\n    var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n    if (mX1 !== mY1 || mX2 !== mY2) {\n        for (var i = 0; i < kSplineTableSize; ++i) {\n            sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n    }\n\n    function getTForX(aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }--currentSample;\n\n        // Interpolate to provide an initial guess for t\n        var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        } else if (initialSlope === 0.0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n\n    return function BezierEasing(x) {\n        if (mX1 === mY1 && mX2 === mY2) {\n            return x; // linear\n        }\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n        if (x === 0) {\n            return 0;\n        }\n        if (x === 1) {\n            return 1;\n        }\n        return calcBezier(getTForX(x), mY1, mY2);\n    };\n}; ","import PIXI from 'pixi.js';\nimport CardsGenerator from './CardsGenerator';\nimport BezierEasing from './lib/BezierEasing';\n\nexport default class Card extends PIXI.Graphics {\n\n  constructor(options) {\n    super();\n    this.value = options.value;\n    this.suit  = options.suit;\n\n    const width = options.width;\n    const height = options.height;\n    this.originalWidth = options.width;\n    this.originalHeight = options.height;\n    this.drawBackground();\n    const valueText = new PIXI.Text(this.getValue(), {\n      fontSize: 26,\n      textColor: 0,\n      align: 'center',\n    });\n    const suitText = new PIXI.Text(this.getSuit(), {\n      fontSize: 14,\n      textColor: 0,\n      align: 'center'\n    });\n    this.isHighlighted = false;\n    valueText.x = width/2;\n    valueText.y = 30;\n    valueText.anchor.set(0.5,0.5);\n    suitText.x = width/2;\n    suitText.y = height/2;\n    suitText.anchor.set(0.5,0.5);\n    this.addChild(valueText);\n    this.addChild(suitText);\n  }\n\n  drawBackground() {\n    const shadowSteps = 10;\n    this.clear().lineStyle(1, 0x000000, 1)\n      .beginFill(this.suit === 1 || this.suit === 2 ? 0xFF0000 : 0, 0.5)\n      .drawRoundedRect(0, 0, this.originalWidth, this.originalHeight, this.originalWidth/10)\n      .endFill();\n    if (this.isHighlighted) {\n      for (let i = 1; i < shadowSteps; i++) {\n        this.lineStyle(1, 0xffff00, 0.8 - i / shadowSteps)\n          .drawRoundedRect(-i, -i, this.originalWidth+i*2, this.originalHeight+i*2, this.originalWidth/10);\n      }\n      \n    }\n  }\n\n  highlight() {\n    this.isHighlighted = true;\n    this.drawBackground();\n  }\n\n  isJoker() {\n    return this.value === CardsGenerator.JOKER_VALUE;\n  }\n\n  getSuit() {\n    if (this.suit === CardsGenerator.JOKER) return 'Joker';\n    return CardsGenerator.SUITS[this.suit];\n  }\n\n  getValue() {\n    if (this.value === CardsGenerator.JOKER_VALUE) return 'Joker';\n    return CardsGenerator.VALUE_LABELS[this.value];\n  }\n\n  toString() {\n    return `${this.getValue()} of ${this.getSuit()}`;\n  }\n\n}","import Card from './Card';\n\nexport default class CardCollection {\n\n    static from(arrayOfCard) {\n        if (arrayOfCard instanceof CardCollection) return arrayOfCard;\n        if (Array.isArray(arrayOfCard)) return new CardCollection(arrayOfCard);\n        return new CardCollection();\n    }\n\n    constructor(arrayOfCard) {\n        if (arrayOfCard instanceof CardCollection) {\n            this.cards = arrayOfCard.cards.slice(0);\n        } else if (Array.isArray(arrayOfCard)) {\n            this.cards = arrayOfCard;\n        } else {\n            this.cards = [];\n        }\n    }\n\n    /**\n     * @param {Card[]} cards\n     */\n    addAll(cards) {\n        this.cards.push(...cards);\n    }\n\n    /**\n     * @param {Card} card\n     */\n    add(card) {\n        this.cards.push(card);\n    }\n\n    /**\n     * @param {Card} card\n     */\n    remove(card) {\n        let index;\n        if ((index = this.cards.indexOf(card)) > -1) {\n            return this.cards.splice(index, 1)[0];\n        }\n        return null;\n    }\n\n    /**\n     * @param {number} suit\n     * @param {number} value\n     * @returns {Card} card\n     */\n    getBySuitAndValue(suit, value) {\n        return this.cards.find((c) => c.value === value && c.suit === suit);\n    }\n\n    /**\n     * @param {number} value\n     * @returns {Card} card\n     */\n    getByValue(value) {\n        return this.cards.find((c) => c.value === value);\n    }\n\n    /**\n     * @param {number} suit\n     * @returns {Card} card\n     */\n    getBySuit(suit) {\n        return this.cards.find((c) => c.suit === suit);\n    }\n\n    /**\n     * @returns {Card} card\n     */\n    peek() {\n        return this.cards[0];\n    }\n\n    shuffle() {\n        const output = [];\n        const input = this.toArray();\n        while (input.length > 0) {\n            let index = Math.floor(Math.random() * input.length);\n            output.push(input.splice(index, 1)[0]);\n        }\n        this.cards = output;\n        return this;\n    }\n\n    /**\n     * @returns {Card[]}\n     */\n    toArray() {\n        return this.cards.slice(0);\n    }\n\n    /**\n     * @returns {String}\n     */\n    toString() {\n        return this.cards.toString();\n    }\n};","import CardCollection from './CardCollection';\nimport Card from './Card';\n\nconst CardsGenerator = {\n    CARD_WIDTH: 370 / 4,\n    CARD_HEIGHT: 522 / 4,\n    JOKER: 'Joker',\n    JOKER_VALUE: 13,\n    SUITS: [ 'Spades', 'Hearts', 'Diamonds', 'Clubs' ],\n    VALUE_LABELS: [ '2', '3', '4', '5', '6', '7', '8', '9', '10', 'Jack', 'Queen', 'King', 'Ace' ],\n    generateCards() {\n        const output = [];\n        for (let suitIndex = 0; suitIndex < CardsGenerator.SUITS.length; suitIndex++) {\n            for (let valueIndex = 0; valueIndex < CardsGenerator.VALUE_LABELS.length; valueIndex++) {\n                output.push(new Card({\n                    width: CardsGenerator.CARD_WIDTH,\n                    height: CardsGenerator.CARD_HEIGHT,\n                    suit: suitIndex,\n                    value: valueIndex\n                }));\n            }\n        }\n        for (let index = 0; index < 2; index++) {\n            output.push(new Card({ \n                width: CardsGenerator.CARD_WIDTH,\n                height: CardsGenerator.CARD_HEIGHT,\n                suit: CardsGenerator.JOKER,\n                value: CardsGenerator.JOKER_VALUE\n            }));\n        }\n        return new CardCollection(output);\n    }\n};\n\nexport default CardsGenerator;\n","import PIXI from 'pixi.js';\nimport UpdatableContainer from '../containers/UpdatableContainer';\n\nexport default class LinearLayout extends UpdatableContainer {\n    constructor(options = {}) {\n        super();\n        this.childMargin = 0;\n        if ('x' in options) this.x = options.x;\n        if ('y' in options) this.y = options.y;\n        if ('childMargin' in options) this.childMargin = options.childMargin;\n        this.setOrientation(options.orientation || LinearLayout.ORIENTATION_VERTICAL);\n    }\n\n    setOrientation(orientation) {\n        this._orientation = orientation;\n        if (orientation === LinearLayout.ORIENTATION_VERTICAL) {\n            this._posPropertyName = 'y';\n            this._sizePropertyName = 'height';\n        } else if (orientation === LinearLayout.ORIENTATION_HORIZONTAL) {\n            this._posPropertyName = 'x';\n            this._sizePropertyName = 'width';\n        }\n    }\n\n    getChildPosition(childIndex) {\n        const child = this.getChildAt(childIndex);\n        return new PIXI.Point(this.x - this.pivot.x + child.x - child.pivot.x, this.y - this.pivot.y + child.y - child.pivot.y);\n    }\n\n    update(game) {\n        super.update(game);\n        this.updateChildrenPosition();\n    }\n\n    updateChildrenPosition() {\n        let pos = 0;\n        for (let index = 0; index < this.children.length; index++) {\n            this.children[index][this._posPropertyName] = pos;\n            pos += this.children[index][this._sizePropertyName] + this.childMargin;\n        }\n    }\n}\n\nLinearLayout.ORIENTATION_VERTICAL = 1;\nLinearLayout.ORIENTATION_HORIZONTAL = 2;","import CardsGenerator from './CardsGenerator';\nimport CardCollection from './CardCollection';\nimport LinearLayout from './gui/LinearLayout';\n\nexport default class PlayerArea extends LinearLayout {\n    constructor(x, y) {\n        super({ \n            x, y, \n            orientation: LinearLayout.ORIENTATION_HORIZONTAL,\n            childMargin: 17\n        });\n\n        this.selectedCardsToBeChanged = [];\n    }\n\n    addChild(...card) {\n        const out = super.addChild(...card);\n        this.updateChildrenPosition();\n        this.pivot.set(this.width/2, this.height/2);\n        return out;\n    }\n\n    update(game) {}\n\n    getCards() {\n        return new CardCollection(this.children.slice(0));\n    }\n\n    setSelectedCardIndex(index, swt) {\n        const card = this.getChildAt(index);\n        const indexOfCard = this.selectedCardsToBeChanged.indexOf(card)\n        const isSelected = indexOfCard > -1;\n        if (isSelected && swt || !isSelected && !swt) return; \n        if (swt) this.selectedCardsToBeChanged.push(card);\n        else this.selectedCardsToBeChanged.splice(indexOfCard, 1);\n        card.y += swt ? -20 : 20;\n    }\n    \n}","function _identity(d) {return d;}\nexport default {\n  uniq(array, predicate = _identity) {\n    var output = [];\n    var ids = [];\n    array.forEach(function (d) {\n      const id = predicate(d);\n      if (ids.indexOf(id) === -1) {\n        output.push(d);\n        ids.push(id);\n      }\n    });\n    return output;\n  }\n};","export default {\n    Compare: {\n        asc(a, b) {\n            if (a > b) return 1;\n            if (a < b) return -1;\n            return 0;\n        },\n        desc(a, b) {\n            if (a > b) return -1;\n            if (a < b) return 1;\n            return 0;\n        }\n    },\n    clamp(value, min, max) {\n        return Math.max(Math.min(value, max), min);\n    }\n};","import CardCollection from './CardCollection';\nimport Arrays from './Arrays';\nimport Numbers from './Numbers';\n\nexport var ComboType = {\n    HigherCard: 1,\n    Pair: 2,\n    TwoPair: 3,\n    ThreeOfAKind: 4,\n    Straight: 5,\n    Flush: 6,\n    FullHouse: 7,\n    FourOfAKind: 8,\n    StraightFlush: 9,\n    FiveOfAKind: 10\n};\n\nexport class CardComboList {\n    \n    /**\n     * @param {CardCollection} cardsCollection\n     */\n    constructor(cardsCollection) {\n        this.originalCollection = cardsCollection;\n        this.combos = [];\n        this._parse(cardsCollection);\n    }\n\n    addAll(objects) {\n        objects.forEach((d) => this.add(d));\n    }\n\n    add(object) {\n        let cardCombo;\n        if (!(object instanceof CardCombo)) {\n            cardCombo = new CardCombo(object);\n        } else cardCombo = object;\n        this.combos.push(cardCombo);\n        return this;\n    }\n\n    getHigherCombo() {\n        return this.combos.sort((a, b) => {\n            if (a.type > b.type) return -1;\n            if (a.type < b.type) return 1;\n            return 0;\n        })[0];\n    }\n\n    _parse() {\n        // 1- HigherCard\n        this.add({ type: ComboType.HigherCard, card: this._getHigherCard() });\n        // 2 - Pair\n        // 4 - ThreeOfAKind\n        // 8 - FourOfAKind\n        // 10 - FiveOfAKind\n        this.addAll(this._getXOfAKind());\n        // 3 - TwoPair\n        const twoPairsCombo = this._getTwoPairs();\n        if (twoPairsCombo) this.add(twoPairsCombo);\n        // 5 - Straight\n        const straightCombo = this._getStraight();\n        if (straightCombo) this.add(straightCombo);\n        // 6 - Flush\n        const flushCombo = this._getFlush();\n        if (flushCombo) this.add(flushCombo);\n        // 7 - FullHouse\n        const fullHouseCombo = this._getFullHouse();\n        if (fullHouseCombo) this.add(fullHouseCombo);\n        // 9 - StraightFlush\n        const straightFlushCombo = this._getStraightFlush();\n        if (straightFlushCombo) this.add(straightFlushCombo);\n        \n        this.combos.sort((a, b) => Numbers.Compare.desc(a.getScore(), b.getScore()));\n    }\n\n    _getHigherCard() {\n        const cards = this.originalCollection.toArray();\n        return cards.sort((a, b) => {\n            if (a.value > b.value) return -1;\n            if (a.value < b.value) return 1;\n            return 0;\n        })[0];\n    }\n\n    _getTwoPairs() {\n        const pairs = [];\n        this.combos.forEach(function (combo) {\n            if (combo.type === ComboType.Pair) pairs.push(combo);\n        });\n        if (pairs.length === 2 && this._isAllCardDifferents(pairs[0], pairs[1])) {\n\n            return new CardCombo({\n                type: ComboType.TwoPair,\n                cards: [].concat(...pairs.map((d) => d.cards.toArray()))\n            });\n        }\n    }\n\n    _getXOfAKind() {\n        const cards = this.originalCollection.toArray();\n        const combos = [];\n        const comboTypeMapper = {\n            2: ComboType.Pair,\n            3: ComboType.ThreeOfAKind,\n            4: ComboType.FourOfAKind,\n            5: ComboType.FiveOfAKind\n        };\n        cards.forEach((card, cardIndex, cards) => {\n            const localeCards = [ card ];\n            for (let index = 0; index < cards.length; index++) {\n                if (card !== cards[index] && (card.value === cards[index].value || cards[index].isJoker())) {\n                    localeCards.push(cards[index]);\n                }\n            }\n            if (localeCards.length > 1 && localeCards.length < 6) {\n                combos.push(new CardCombo({\n                    type: comboTypeMapper[localeCards.length],\n                    cards: localeCards\n                }));\n            }\n        });\n        return Arrays.uniq(combos, (d) => d.getId());\n    }\n\n    _getFullHouse() {\n        const pair = this.combos.find((d) => d.type === ComboType.Pair);\n        const threeOfAKind = this.combos.find((d) => d.type === ComboType.ThreeOfAKind);\n        if (pair && threeOfAKind && this._isAllCardDifferents(pair, threeOfAKind)) {\n            return new CardCombo({\n                type: ComboType.FullHouse,\n                cards: [].concat(pair.getCards(), threeOfAKind.getCards())\n            });\n        }\n    }\n\n    _getStraight() {\n        const cards = this.originalCollection.toArray();\n        const values = cards.map((d) => d.value).sort(Numbers.Compare.asc);\n        let jokers = cards.filter((d) => d.isJoker()).length;\n        for (let index = 1, value = values[0]; index < values.length; index++) {\n            const match = value + 1 === values[index];\n            if (!match && jokers === 0) return;\n            if (!match) jokers--;\n            value++;\n        }\n        return new CardCombo({\n            type: ComboType.Straight,\n            cards: cards\n        });\n    }\n\n    _getFlush() {\n        const cards = this.originalCollection.toArray();\n        let black = 0, red = 0;\n        for (let index = 0; index < cards.length; index++) {\n            if (cards[index].isJoker()) {\n                black++;\n                red++;\n            } else if (/Spades|Clubs/.test(cards[index].getSuit())) {\n                black++;\n            } else red++;\n        }\n        if (black === cards.length || red === cards.length) {\n            return new CardCombo({\n                type: ComboType.Flush,\n                cards: cards\n            });\n        } \n    }\n\n    _getStraightFlush() {\n        const flush = this.combos.find((d) => d.type === ComboType.Flush);\n        const straight = this.combos.find((d) => d.type === ComboType.Straight);\n        if (flush && straight) {\n            return new CardCombo({\n                type: ComboType.StraightFlush,\n                cards: flush.getCards()\n            });\n        }\n    }\n\n    /**\n     * @param {Combo} c1\n     * @param {Combo} c2\n     * @returns {boolean}\n     */\n    _isAllCardDifferents(c1, c2) {\n        const c1Cards = c1.getCards();\n        const c2Cards = c2.getCards();\n        for (let i1 = 0; i1 < c1Cards.length; i1++)\n            for (let i2 = 0; i2 < c2Cards.length; i2++)\n                if (c1Cards[i1] === c2Cards[i2]) return false;\n        return true;\n    }\n\n    toString() {\n        return this.combos.join('\\n');\n    }\n\n}\n// TODO: TEST K 4 4 K J\nexport class CardCombo {\n\n    constructor(object) {\n        this.type = object.type;\n        this.cards = new CardCollection();\n        if (object.cards) this.cards.addAll(object.cards);\n        else if (object.card) this.cards.add(object.card);\n        this.getCards().sort((a, b) => Numbers.Compare.asc(a.value, b.value));\n    }\n\n    getCard() { return this.cards.peek(); }\n    getCards() { return this.cards.cards; }\n\n    _sortCards() {\n        this.getCards().sort((a, b) => { return Numbers.Compare.asc(a.suit, b.suit); });\n    }\n    \n    getId() {\n        this._sortCards();\n        return this.getCards().map((d) => `${d.value}&${d.suit}`).join('/');\n    }\n\n    getScore() {\n        const cards = this.getCards();\n        let out = 0;\n        for (let index = 0; index < cards.length; index++) out += cards[index].value;\n        return out + this.type * 10;\n    }\n\n    getTypeName() {\n        const keys = Object.keys(ComboType);\n        return keys.find((key) => ComboType[key] === this.type);\n    }\n\n    toString() {\n        return `${this.getTypeName()} { ${this.getCards().join(', ')} }`;\n    }\n\n}","export var Debug = {\n    textConfig: {\n        fontSize: 14,\n        fontFamily: 'Consolas',\n        fill: 0\n    }\n};","import PIXI from 'pixi.js';\nimport {Debug} from '../../Config';\n\nexport default class GUICombosList extends PIXI.Text {\n    \n    constructor() {\n        super('', Debug.textConfig);\n    }\n\n    update(game) {\n        this.text = game.getCardComboList().toString();\n    }\n}","let keyboardState = new Map();\nlet lastKeyboardState = new Map();\nconst keyboardEventHandlers = new Map();\nconst Keyboard = {\n  0: 48,\n  1: 49,\n  2: 50,\n  3: 51,\n  4: 52,\n  5: 53,\n  6: 54,\n  7: 55,\n  8: 56,\n  9: 57,\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  PAUSE: 19,\n  CAPS_LOCK: 20,\n  ESCAPE: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT_ARROW: 37,\n  UP_ARROW: 38,\n  RIGHT_ARROW: 39,\n  DOWN_ARROW: 40,\n  INSERT: 45,\n  DELETE: 46,\n  A: 65,\n  B: 66,\n  C: 67,\n  D: 68,\n  E: 69,\n  F: 70,\n  G: 71,\n  H: 72,\n  I: 73,\n  J: 74,\n  K: 75,\n  L: 76,\n  M: 77,\n  N: 78,\n  O: 79,\n  P: 80,\n  Q: 81,\n  R: 82,\n  S: 83,\n  T: 84,\n  U: 85,\n  V: 86,\n  W: 87,\n  X: 88,\n  Y: 89,\n  Z: 90,\n  LEFT_WINDOW_KEY: 91,\n  RIGHT_WINDOW_KEY: 92,\n  SELECT_KEY: 93,\n  NUMPAD_0: 96,\n  NUMPAD_1: 97,\n  NUMPAD_2: 98,\n  NUMPAD_3: 99,\n  NUMPAD_4: 100,\n  NUMPAD_5: 101,\n  NUMPAD_6: 102,\n  NUMPAD_7: 103,\n  NUMPAD_8: 104,\n  NUMPAD_9: 105,\n  MULTIPLY: 106,\n  ADD: 107,\n  SUBTRACT: 109,\n  DECIMAL_POINT: 110,\n  DIVIDE: 111,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  NUM_LOCK: 144,\n  SCROLL_LOCK: 145,\n  SEMI_COLON: 186,\n  EQUAL_SIGN: 187,\n  COMMA: 188,\n  DASH: 189,\n  PERIOD: 190,\n  FORWARD_SLASH: 191,\n  GRAVE_ACCENT: 192,\n  OPEN_BRACKET: 219,\n  BACK_SLASH: 220,\n  CLOSE_BRAKET: 221,\n  SINGLE_QUOTE: 222,\n  isKeyDown(keyCode) {\n    return !!keyboardState.get(keyCode);\n  },\n  isKeyUp(keyCode) {\n    return !keyboardState.get(keyCode);\n  },\n  isKeyReleased(keyCode) {\n    return Keyboard.isKeyUp(keyCode) && lastKeyboardState.get(keyCode);\n  },\n  isKeyPushed(keyCode) {\n    return Keyboard.isKeyDown(keyCode) && !lastKeyboardState.get(keyCode);\n  },\n  update() {\n    lastKeyboardState = keyboardState;\n    keyboardState = new Map(lastKeyboardState);\n  }\n};\n// Keep state of all action\nwindow.addEventListener('keyup', function (event) {\n    keyboardState.set(event.keyCode, false);\n});\nwindow.addEventListener('keydown', function (event) {\n    keyboardState.set(event.keyCode, true);\n});\n\nexport default Keyboard;","import PIXI from 'pixi.js';\nimport Keyboard from '../lib/Keyboard';\nimport Game from '../Game';\n\nimport CardsGenerator from '../CardsGenerator';\n\nexport default class GUICardSelector extends PIXI.Graphics {\n    constructor(x, y) {\n        super();\n        const WIDTH = 20;\n        const HEIGHT = WIDTH * 2;\n        this.clear()\n            .lineStyle(3, 0, 1)\n            .moveTo(WIDTH/2,0)\n            .lineTo(WIDTH, HEIGHT)\n            .lineTo(0, HEIGHT)\n            .lineTo(WIDTH/2,0);\n        this.pivot.set(WIDTH / 2, 0);\n        this.originalY = y;\n        if (x) this.x = x;\n        if (y) this.y = y;\n        this.setCursorCardIndex(game, 0);\n    }\n\n    setCursorCardIndex(game, index) {\n        if (index < 0 || index > 4) return;\n        this.index = index;\n        const p = game.player.getChildPosition(index);\n        this.x = p.x + CardsGenerator.CARD_WIDTH / 2;\n    }\n\n    /**\n     * @param {Game} game\n     */\n    update(game) {\n        this.y += Math.cos(game._frame / 10);\n        \n        if (Keyboard.isKeyPushed(Keyboard.LEFT_ARROW)) {\n            this.setCursorCardIndex(game, this.index - 1);\n        } else if (Keyboard.isKeyPushed(Keyboard.RIGHT_ARROW)) {\n            this.setCursorCardIndex(game, this.index + 1);\n        } else if (Keyboard.isKeyPushed(Keyboard.UP_ARROW)) {\n            game.player.setSelectedCardIndex(this.index, true);\n        } else if (Keyboard.isKeyPushed(Keyboard.DOWN_ARROW)) {\n            game.player.setSelectedCardIndex(this.index, false);\n        } else if (Keyboard.isKeyPushed(Keyboard.ENTER)) {\n            this.destroy();\n        }\n    }\n}","import PIXI from 'pixi.js';\n\nexport default class GUIText extends PIXI.Text {\n    constructor(text, textStyle) {\n        super(text, textStyle);\n        this.tags = [ 'gui' ];\n    }\n    update() {}\n}","const isMe = !!localStorage.getItem('isMe');\nconst stopTracking = !!localStorage.getItem('StopTracking') || /localhost\\:8080/.test(location.toString()) || typeof mixpanel === 'undefined';\n\nif (stopTracking) console.log('stop-tracking');\n\nif (isMe) {\n    mixpanel.identify('1');\n}\n\nexport default {\n    /**\n     * @param {String} eventName\n     * @param {Object} properties\n     * @param {Function} callback\n     */\n    track(eventName, properties, callback) {\n        if (stopTracking) return;\n        mixpanel.track(eventName, properties, callback);\n    }\n};\n\n","import UpdatableContainer from './containers/UpdatableContainer';\nimport CardsGenerator from './CardsGenerator';\nimport PlayerArea from './PlayerArea';\nimport {CardComboList} from './CardComboList';\nimport LinearLayout from './gui/LinearLayout';\nimport GUICombosList from './gui/debug/GUICombosList';\nimport GUICardSelector from './gui/GUICardSelector';\nimport Keyboard from './lib/Keyboard';\nimport GUIText from './lib/GUIText';\nimport Tracker from './Tracker';\n\nconst ticker = PIXI.ticker.shared;//new PIXI.ticker.Ticker();\n\nexport default class Game {\n\n    constructor(options) {\n        this._frame = 0;\n        this.cards = null;\n        this.player = null;\n\n        this.gameState = Game.GAME_IDLE;\n        this.playingGameState = Game.STATE_PLAYING_CHOOSE_BET;\n\n        this.fg = new UpdatableContainer();\n        this.gui = new UpdatableContainer();\n        this.renderingContainer = new PIXI.Container();\n        this.renderingContainer.addChild(this.fg);\n        this.renderingContainer.addChild(this.gui);\n        // create renderer\n        const rendererOptions = {\n            transparent: options.transparent || false,\n            autoResize: options.autoResize || false,\n            antialias: options.antialias || false,\n            resolution: options.resolution || 1,\n            clearBeforeRender: true,\n            backgroundColor: options.backgroundColor,\n            roundPixels: options.roundPixels || true\n        }; \n        this.renderer = PIXI.autoDetectRenderer(options.width || 800, options.height || 600, rendererOptions, false);\n        this.container = null;\n        if (options.container) {\n            this.container = options.container;\n            this.container.appendChild(this.renderer.view);\n        }\n        this.setSize(this.renderer.width, this.renderer.height);\n    }\n\n    destroy() {\n        this.clearGame();\n        this.fg.destroy();\n        this.gui.destroy();\n        this.renderer.destroy();\n        this.fg = null;\n        this.gui = null;\n        this.renderer = null;\n    }\n\n    clearGame() {\n        this.stop();\n        this.cards = null;\n        this.player = null;\n        this.fg.removeChildren();\n        this.gui.removeChildren();\n    }\n\n    newGame() {\n        this.gameState = Game.GAME_IDLE;\n        this.playingGameState = Game.STATE_PLAYING_CHOOSE_BET;\n\n        const stageWidth = this.renderer.width;\n        const stageHeight = this.renderer.height;\n        this.player = new PlayerArea(stageWidth/2, stageHeight/3*2);\n\n        this.fg.addChild(this.player);\n        //this.gui.addChild(new GUICombosList()); \n        this.clearBoard();\n        this.setPlayingState(Game.STATE_PLAYING_CHOOSE_CARDS);\n          \n    }\n\n    clearBoard() {\n        this.player.removeChildren();\n        this.cards = CardsGenerator.generateCards().shuffle();\n    }\n\n    distribute(count) {\n        \n        // const forcedCards = 0;\n        // [ 3, 2, 1, 0, CardsGenerator.JOKER_VALUE ].forEach(function (value) {\n        //     const card = this.cards.getByValue(value);\n        //     this.player.addChild(card);\n        //     this.cards.remove(card);\n        // }, this);\n        // // for (let i = 0; i < forcedCards; i++) {\n        // //     let card = this.cards.getByValue(2);\n        // //     if (i > 3) card = this.cards.getByValue(4);\n        // //     this.player.addChild(card)\n        // //     this.cards.remove(card);\n        // // }\n        // // for (let i = 0; i < forcedCards; i++) {\n        // //     let card = this.cards.getByValue(i + 1);\n        // //     this.player.addChild(card)\n        // //     this.cards.remove(card);\n        // // }\n\n        for (let index = 0; index < count; index++) {\n            let card = this.cards.peek();\n            this.player.addChild(card);\n            this.cards.remove(card);\n        }\n    }\n\n    displayCardCursorSelection() {\n        const p = this.player.getChildPosition(0);\n        this.gui.addChild(new GUICardSelector(p.x + CardsGenerator.CARD_WIDTH / 2, p.y + CardsGenerator.CARD_HEIGHT + 10));\n    }\n\n    setState(state) {\n        this.gameState = state;\n    }\n\n    setPlayingState(state) {\n        this.playingGameState = state;\n        switch (state) {\n            case Game.STATE_PLAYING_CHOOSE_CARDS:\n                Tracker.track('game:new');\n                this.gui.removeChildren();\n                this.clearBoard();\n                this.distribute(5);\n                this.displayCardCursorSelection();\n                break;\n            case Game.STATE_PLAYING_DISPLAY_RIVER_SCORE:\n                this.commitChanges();\n                const combo = this.getCardComboList().getHigherCombo();\n                combo.cards.toArray().forEach(function (d) {\n                    d.highlight();\n                });\n                Tracker.track('combo', {\n                    type: combo.getTypeName(),\n                    cards: combo.getCards().map(String)\n                });\n                const score = new GUIText(combo.getTypeName(), { fontSize: 36 });\n                this.gui.addChild(score);\n                \n                break;\n            case Game.STATE_PLAYING_CHOOSE_RISK:\n                break;\n            \n        }\n    }\n\n    getFPS() {\n        return ticker.FPS;\n    }\n\n    isRunning() {\n        return ticker.started;\n    }\n\n    isPlaying() {\n        return this.gameState === Game.GAME_PLAYING;\n    }\n\n    getSize() {\n        return { width: this.renderer.width, height: this.renderer.height };\n    }\n\n    setSize(w, h) {\n        if (this.container) {\n            this.container.style.width = `${w}px`;\n            this.container.style.height = `${h}px`;\n        }\n        if (this.renderer.width !== w || this.renderer.height !== h) {\n            this.renderer.resize(w, h);\n        }\n    }\n\n    start() {\n        if (!this.isRunning()) {\n            if (this.gameState === Game.GAME_IDLE) {\n                this.setState(Game.STATE_PLAYING);\n            }\n            ticker.add(this.loop, this);\n            ticker.start();\n        }\n    }\n\n    stop() {\n        if (this.isRunning()) {\n            ticker.stop();\n            ticker.remove(this.loop, this);\n        }\n    }\n\n    loop(time) {\n        this._frame += 1;\n\n        this.gui.update(this);\n\n        if (this.playingGameState === Game.STATE_PLAYING_CHOOSE_CARDS) {\n            if (Keyboard.isKeyPushed(Keyboard.ENTER)) {\n                this.setPlayingState(Game.STATE_PLAYING_DISPLAY_RIVER_SCORE);\n            }\n        } else if (this.playingGameState === Game.STATE_PLAYING_DISPLAY_RIVER_SCORE) {\n            if (Keyboard.isKeyPushed(Keyboard.SPACE) || Keyboard.isKeyPushed(Keyboard.ENTER)) {\n                this.setPlayingState(Game.STATE_PLAYING_CHOOSE_CARDS);\n            }\n        }\n\n        this.renderer.render(this.renderingContainer);\n        Keyboard.update();\n    }\n\n    getCardComboList() {\n        return new CardComboList(this.player.getCards());\n    }\n\n    commitChanges() {\n        const cards = game.player.selectedCardsToBeChanged.splice(0, game.player.selectedCardsToBeChanged.length);\n        const cardsLen = cards.length;\n        cards.forEach(function (c) { c.destroy(); });\n        this.distribute(cardsLen);\n    }\n\n\n    /**\n     * \n     * @param {Function} GuiClass - The GuiClass to instantiate\n     * @param {boolean=} swt - true will create an instance if it doesnt exists, false will destroy it\n     */\n    toggleGuiElementPresence(GuiClass, swt) {\n        let instance = this.gui.children.find((d) => d instanceof GuiClass);\n        if (typeof swt === 'undefined') swt = !instance;\n        if (!instance && swt) {\n            instance = new GuiClass();\n            this.gui.addChild(instance);\n        } else if (instance && !swt) {\n            instance.destroy();\n        }\n    }\n\n};\nGame.STATE_INTRO = 1;\nGame.STATE_PLAYING = 2;\nGame.STATE_GAMEOVER = 4;\n\nGame.STATE_PLAYING_CHOOSE_BET = 1;\nGame.STATE_PLAYING_CHOOSE_CARDS = 2;\nGame.STATE_PLAYING_EXCHANGE_CARD_TRANSITION = 4;\nGame.STATE_PLAYING_DISPLAY_RIVER_SCORE = 8;\nGame.STATE_PLAYING_CHOOSE_RISK = 16;\nGame.STATE_PLAYING_CHOOSE_UP_OR_DOWN = 32;\nGame.STATE_PLAYING_UP_OR_DOWN_SCORE = 64;\n\n","import Game from './Game';\nimport Card from './Card';\nimport Tracker from './Tracker';\n\nTracker.track('pageview');\n\nexport default {\n    Card, Game\n};"],"names":["UpdatableContainer","game","updateChildren","children","forEach","child","update","PIXI","Container","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","Math","abs","newtonRaphsonIterate","aGuessT","currentSlope","Card","options","value","suit","width","height","originalWidth","originalHeight","drawBackground","valueText","Text","getValue","suitText","getSuit","isHighlighted","x","y","anchor","set","addChild","shadowSteps","clear","lineStyle","beginFill","drawRoundedRect","endFill","CardsGenerator","JOKER_VALUE","JOKER","SUITS","VALUE_LABELS","Graphics","CardCollection","arrayOfCard","Array","isArray","cards","slice","push","card","index","indexOf","splice","find","c","output","input","toArray","length","floor","random","toString","suitIndex","valueIndex","CARD_WIDTH","CARD_HEIGHT","LinearLayout","childMargin","setOrientation","orientation","ORIENTATION_VERTICAL","_orientation","_posPropertyName","_sizePropertyName","ORIENTATION_HORIZONTAL","childIndex","getChildAt","Point","pivot","updateChildrenPosition","pos","PlayerArea","selectedCardsToBeChanged","out","swt","indexOfCard","isSelected","_identity","d","array","predicate","ids","id","a","b","min","max","ComboType","CardComboList","cardsCollection","originalCollection","combos","_parse","objects","add","object","cardCombo","CardCombo","sort","type","HigherCard","_getHigherCard","addAll","_getXOfAKind","twoPairsCombo","_getTwoPairs","straightCombo","_getStraight","flushCombo","_getFlush","fullHouseCombo","_getFullHouse","straightFlushCombo","_getStraightFlush","Numbers","Compare","desc","getScore","pairs","combo","Pair","_isAllCardDifferents","TwoPair","concat","map","comboTypeMapper","ThreeOfAKind","FourOfAKind","FiveOfAKind","cardIndex","localeCards","isJoker","Arrays","uniq","getId","pair","threeOfAKind","FullHouse","getCards","values","asc","jokers","filter","match","Straight","black","red","test","Flush","flush","straight","StraightFlush","c1","c2","c1Cards","c2Cards","i1","i2","join","peek","_sortCards","keys","Object","key","getTypeName","Debug","GUICombosList","textConfig","text","getCardComboList","keyboardState","Map","lastKeyboardState","Keyboard","keyCode","get","isKeyUp","isKeyDown","window","addEventListener","event","GUICardSelector","WIDTH","HEIGHT","moveTo","lineTo","originalY","setCursorCardIndex","p","player","getChildPosition","cos","_frame","isKeyPushed","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","setSelectedCardIndex","DOWN_ARROW","ENTER","destroy","GUIText","textStyle","tags","isMe","localStorage","getItem","stopTracking","location","mixpanel","console","log","identify","eventName","properties","callback","track","ticker","shared","Game","gameState","GAME_IDLE","playingGameState","STATE_PLAYING_CHOOSE_BET","fg","gui","renderingContainer","rendererOptions","transparent","autoResize","antialias","resolution","backgroundColor","roundPixels","renderer","autoDetectRenderer","container","appendChild","view","setSize","clearGame","stop","removeChildren","stageWidth","stageHeight","clearBoard","setPlayingState","STATE_PLAYING_CHOOSE_CARDS","generateCards","shuffle","count","remove","state","distribute","displayCardCursorSelection","STATE_PLAYING_DISPLAY_RIVER_SCORE","commitChanges","getHigherCombo","highlight","String","score","fontSize","STATE_PLAYING_CHOOSE_RISK","FPS","started","GAME_PLAYING","w","h","style","resize","isRunning","setState","STATE_PLAYING","loop","start","time","SPACE","render","cardsLen","GuiClass","instance","STATE_INTRO","STATE_GAMEOVER","STATE_PLAYING_EXCHANGE_CARD_TRANSITION","STATE_PLAYING_CHOOSE_UP_OR_DOWN","STATE_PLAYING_UP_OR_DOWN_SCORE","Tracker"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGlldS9zcmMvcG9rZXJfZ2FtZS9zcmMvY29udGFpbmVycy9VcGRhdGFibGVDb250YWluZXIuanMiLCIvVXNlcnMvbWF0dGhpZXUvc3JjL3Bva2VyX2dhbWUvc3JjL2xpYi9CZXppZXJFYXNpbmcuanMiLCIvVXNlcnMvbWF0dGhpZXUvc3JjL3Bva2VyX2dhbWUvc3JjL0NhcmQuanMiLCIvVXNlcnMvbWF0dGhpZXUvc3JjL3Bva2VyX2dhbWUvc3JjL0NhcmRDb2xsZWN0aW9uLmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9DYXJkc0dlbmVyYXRvci5qcyIsIi9Vc2Vycy9tYXR0aGlldS9zcmMvcG9rZXJfZ2FtZS9zcmMvZ3VpL0xpbmVhckxheW91dC5qcyIsIi9Vc2Vycy9tYXR0aGlldS9zcmMvcG9rZXJfZ2FtZS9zcmMvUGxheWVyQXJlYS5qcyIsIi9Vc2Vycy9tYXR0aGlldS9zcmMvcG9rZXJfZ2FtZS9zcmMvQXJyYXlzLmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9OdW1iZXJzLmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9DYXJkQ29tYm9MaXN0LmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9Db25maWcuanMiLCIvVXNlcnMvbWF0dGhpZXUvc3JjL3Bva2VyX2dhbWUvc3JjL2d1aS9kZWJ1Zy9HVUlDb21ib3NMaXN0LmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9saWIvS2V5Ym9hcmQuanMiLCIvVXNlcnMvbWF0dGhpZXUvc3JjL3Bva2VyX2dhbWUvc3JjL2d1aS9HVUlDYXJkU2VsZWN0b3IuanMiLCIvVXNlcnMvbWF0dGhpZXUvc3JjL3Bva2VyX2dhbWUvc3JjL2xpYi9HVUlUZXh0LmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9UcmFja2VyLmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9HYW1lLmpzIiwiL1VzZXJzL21hdHRoaWV1L3NyYy9wb2tlcl9nYW1lL3NyYy9wb2tlcl9nYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVwZGF0YWJsZUNvbnRhaW5lciBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgICB1cGRhdGUoZ2FtZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKGdhbWUpO1xuICAgIH1cblxuICAgIHVwZGF0ZUNoaWxkcmVuKGdhbWUpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyBcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZShnYW1lKTsgXG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG4gKiBCZXppZXJFYXNpbmcgLSB1c2UgYmV6aWVyIGN1cnZlIGZvciB0cmFuc2l0aW9uIGVhc2luZyBmdW5jdGlvblxuICogYnkgR2HDq3RhbiBSZW5hdWRlYXUgMjAxNCAtIDIwMTUg4oCTIE1JVCBMaWNlbnNlXG4gKi9cblxuLy8gVGhlc2UgdmFsdWVzIGFyZSBlc3RhYmxpc2hlZCBieSBlbXBpcmljaXNtIHdpdGggdGVzdHMgKHRyYWRlb2ZmOiBwZXJmb3JtYW5jZSBWUyBwcmVjaXNpb24pXG52YXIgTkVXVE9OX0lURVJBVElPTlMgPSA0O1xudmFyIE5FV1RPTl9NSU5fU0xPUEUgPSAwLjAwMTtcbnZhciBTVUJESVZJU0lPTl9QUkVDSVNJT04gPSAwLjAwMDAwMDE7XG52YXIgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMgPSAxMDtcblxudmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbnZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbnZhciBmbG9hdDMyQXJyYXlTdXBwb3J0ZWQgPSB0eXBlb2YgRmxvYXQzMkFycmF5ID09PSAnZnVuY3Rpb24nO1xuXG5mdW5jdGlvbiBBKGFBMSwgYUEyKSB7XG4gICAgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMTtcbn1cblxuZnVuY3Rpb24gQihhQTEsIGFBMikge1xuICAgIHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTE7XG59XG5cbmZ1bmN0aW9uIEMoYUExKSB7XG4gICAgcmV0dXJuIDMuMCAqIGFBMTtcbn1cblxuLy8gUmV0dXJucyB4KHQpIGdpdmVuIHQsIHgxLCBhbmQgeDIsIG9yIHkodCkgZ2l2ZW4gdCwgeTEsIGFuZCB5Mi5cbmZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7XG4gICAgcmV0dXJuICgoQShhQTEsIGFBMikgKiBhVCArIEIoYUExLCBhQTIpKSAqIGFUICsgQyhhQTEpKSAqIGFUO1xufVxuXG4vLyBSZXR1cm5zIGR4L2R0IGdpdmVuIHQsIHgxLCBhbmQgeDIsIG9yIGR5L2R0IGdpdmVuIHQsIHkxLCBhbmQgeTIuXG5mdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHtcbiAgICByZXR1cm4gMy4wICogQShhQTEsIGFBMikgKiBhVCAqIGFUICsgMi4wICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKTtcbn1cblxuZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICAgIGFCID0gY3VycmVudFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhQSA9IGN1cnJlbnRUO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICByZXR1cm4gY3VycmVudFQ7XG59XG5cbmZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTkVXVE9OX0lURVJBVElPTlM7ICsraSkge1xuICAgICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgaWYgKCEoMCA8PSBtWDEgJiYgbVgxIDw9IDEgJiYgMCA8PSBtWDIgJiYgbVgyIDw9IDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYmV6aWVyIHggdmFsdWVzIG11c3QgYmUgaW4gWzAsIDFdIHJhbmdlJyk7XG4gICAgfVxuXG4gICAgLy8gUHJlY29tcHV0ZSBzYW1wbGVzIHRhYmxlXG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IGZsb2F0MzJBcnJheVN1cHBvcnRlZCA/IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSkgOiBuZXcgQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG4gICAgaWYgKG1YMSAhPT0gbVkxIHx8IG1YMiAhPT0gbVkyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG4gICAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMC4wO1xuICAgICAgICB2YXIgY3VycmVudFNhbXBsZSA9IDE7XG4gICAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgICB9LS1jdXJyZW50U2FtcGxlO1xuXG4gICAgICAgIC8vIEludGVycG9sYXRlIHRvIHByb3ZpZGUgYW4gaW5pdGlhbCBndWVzcyBmb3IgdFxuICAgICAgICB2YXIgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAoc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcblxuICAgICAgICB2YXIgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBiaW5hcnlTdWJkaXZpZGUoYVgsIGludGVydmFsU3RhcnQsIGludGVydmFsU3RhcnQgKyBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBCZXppZXJFYXNpbmcoeCkge1xuICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgIHJldHVybiB4OyAvLyBsaW5lYXJcbiAgICAgICAgfVxuICAgICAgICAvLyBCZWNhdXNlIEphdmFTY3JpcHQgbnVtYmVyIGFyZSBpbXByZWNpc2UsIHdlIHNob3VsZCBndWFyYW50ZWUgdGhlIGV4dHJlbWVzIGFyZSByaWdodC5cbiAgICAgICAgaWYgKHggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsY0JlemllcihnZXRURm9yWCh4KSwgbVkxLCBtWTIpO1xuICAgIH07XG59OyAiLCJpbXBvcnQgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCBDYXJkc0dlbmVyYXRvciBmcm9tICcuL0NhcmRzR2VuZXJhdG9yJztcbmltcG9ydCBCZXppZXJFYXNpbmcgZnJvbSAnLi9saWIvQmV6aWVyRWFzaW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCBleHRlbmRzIFBJWEkuR3JhcGhpY3Mge1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgIHRoaXMuc3VpdCAgPSBvcHRpb25zLnN1aXQ7XG5cbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgdGhpcy5kcmF3QmFja2dyb3VuZCgpO1xuICAgIGNvbnN0IHZhbHVlVGV4dCA9IG5ldyBQSVhJLlRleHQodGhpcy5nZXRWYWx1ZSgpLCB7XG4gICAgICBmb250U2l6ZTogMjYsXG4gICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgfSk7XG4gICAgY29uc3Qgc3VpdFRleHQgPSBuZXcgUElYSS5UZXh0KHRoaXMuZ2V0U3VpdCgpLCB7XG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICBhbGlnbjogJ2NlbnRlcidcbiAgICB9KTtcbiAgICB0aGlzLmlzSGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICB2YWx1ZVRleHQueCA9IHdpZHRoLzI7XG4gICAgdmFsdWVUZXh0LnkgPSAzMDtcbiAgICB2YWx1ZVRleHQuYW5jaG9yLnNldCgwLjUsMC41KTtcbiAgICBzdWl0VGV4dC54ID0gd2lkdGgvMjtcbiAgICBzdWl0VGV4dC55ID0gaGVpZ2h0LzI7XG4gICAgc3VpdFRleHQuYW5jaG9yLnNldCgwLjUsMC41KTtcbiAgICB0aGlzLmFkZENoaWxkKHZhbHVlVGV4dCk7XG4gICAgdGhpcy5hZGRDaGlsZChzdWl0VGV4dCk7XG4gIH1cblxuICBkcmF3QmFja2dyb3VuZCgpIHtcbiAgICBjb25zdCBzaGFkb3dTdGVwcyA9IDEwO1xuICAgIHRoaXMuY2xlYXIoKS5saW5lU3R5bGUoMSwgMHgwMDAwMDAsIDEpXG4gICAgICAuYmVnaW5GaWxsKHRoaXMuc3VpdCA9PT0gMSB8fCB0aGlzLnN1aXQgPT09IDIgPyAweEZGMDAwMCA6IDAsIDAuNSlcbiAgICAgIC5kcmF3Um91bmRlZFJlY3QoMCwgMCwgdGhpcy5vcmlnaW5hbFdpZHRoLCB0aGlzLm9yaWdpbmFsSGVpZ2h0LCB0aGlzLm9yaWdpbmFsV2lkdGgvMTApXG4gICAgICAuZW5kRmlsbCgpO1xuICAgIGlmICh0aGlzLmlzSGlnaGxpZ2h0ZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2hhZG93U3RlcHM7IGkrKykge1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSgxLCAweGZmZmYwMCwgMC44IC0gaSAvIHNoYWRvd1N0ZXBzKVxuICAgICAgICAgIC5kcmF3Um91bmRlZFJlY3QoLWksIC1pLCB0aGlzLm9yaWdpbmFsV2lkdGgraSoyLCB0aGlzLm9yaWdpbmFsSGVpZ2h0K2kqMiwgdGhpcy5vcmlnaW5hbFdpZHRoLzEwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH1cbiAgfVxuXG4gIGhpZ2hsaWdodCgpIHtcbiAgICB0aGlzLmlzSGlnaGxpZ2h0ZWQgPSB0cnVlO1xuICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcbiAgfVxuXG4gIGlzSm9rZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IENhcmRzR2VuZXJhdG9yLkpPS0VSX1ZBTFVFO1xuICB9XG5cbiAgZ2V0U3VpdCgpIHtcbiAgICBpZiAodGhpcy5zdWl0ID09PSBDYXJkc0dlbmVyYXRvci5KT0tFUikgcmV0dXJuICdKb2tlcic7XG4gICAgcmV0dXJuIENhcmRzR2VuZXJhdG9yLlNVSVRTW3RoaXMuc3VpdF07XG4gIH1cblxuICBnZXRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy52YWx1ZSA9PT0gQ2FyZHNHZW5lcmF0b3IuSk9LRVJfVkFMVUUpIHJldHVybiAnSm9rZXInO1xuICAgIHJldHVybiBDYXJkc0dlbmVyYXRvci5WQUxVRV9MQUJFTFNbdGhpcy52YWx1ZV07XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5nZXRWYWx1ZSgpfSBvZiAke3RoaXMuZ2V0U3VpdCgpfWA7XG4gIH1cblxufSIsImltcG9ydCBDYXJkIGZyb20gJy4vQ2FyZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRDb2xsZWN0aW9uIHtcblxuICAgIHN0YXRpYyBmcm9tKGFycmF5T2ZDYXJkKSB7XG4gICAgICAgIGlmIChhcnJheU9mQ2FyZCBpbnN0YW5jZW9mIENhcmRDb2xsZWN0aW9uKSByZXR1cm4gYXJyYXlPZkNhcmQ7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5T2ZDYXJkKSkgcmV0dXJuIG5ldyBDYXJkQ29sbGVjdGlvbihhcnJheU9mQ2FyZCk7XG4gICAgICAgIHJldHVybiBuZXcgQ2FyZENvbGxlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihhcnJheU9mQ2FyZCkge1xuICAgICAgICBpZiAoYXJyYXlPZkNhcmQgaW5zdGFuY2VvZiBDYXJkQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jYXJkcyA9IGFycmF5T2ZDYXJkLmNhcmRzLnNsaWNlKDApO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlPZkNhcmQpKSB7XG4gICAgICAgICAgICB0aGlzLmNhcmRzID0gYXJyYXlPZkNhcmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhcmRzID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhcmRbXX0gY2FyZHNcbiAgICAgKi9cbiAgICBhZGRBbGwoY2FyZHMpIHtcbiAgICAgICAgdGhpcy5jYXJkcy5wdXNoKC4uLmNhcmRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhcmR9IGNhcmRcbiAgICAgKi9cbiAgICBhZGQoY2FyZCkge1xuICAgICAgICB0aGlzLmNhcmRzLnB1c2goY2FyZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYXJkfSBjYXJkXG4gICAgICovXG4gICAgcmVtb3ZlKGNhcmQpIHtcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBpZiAoKGluZGV4ID0gdGhpcy5jYXJkcy5pbmRleE9mKGNhcmQpKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJkcy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdWl0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybnMge0NhcmR9IGNhcmRcbiAgICAgKi9cbiAgICBnZXRCeVN1aXRBbmRWYWx1ZShzdWl0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkcy5maW5kKChjKSA9PiBjLnZhbHVlID09PSB2YWx1ZSAmJiBjLnN1aXQgPT09IHN1aXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtDYXJkfSBjYXJkXG4gICAgICovXG4gICAgZ2V0QnlWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkcy5maW5kKChjKSA9PiBjLnZhbHVlID09PSB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1aXRcbiAgICAgKiBAcmV0dXJucyB7Q2FyZH0gY2FyZFxuICAgICAqL1xuICAgIGdldEJ5U3VpdChzdWl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcmRzLmZpbmQoKGMpID0+IGMuc3VpdCA9PT0gc3VpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0NhcmR9IGNhcmRcbiAgICAgKi9cbiAgICBwZWVrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkc1swXTtcbiAgICB9XG5cbiAgICBzaHVmZmxlKCkge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLnRvQXJyYXkoKTtcbiAgICAgICAgd2hpbGUgKGlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGlucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICBvdXRwdXQucHVzaChpbnB1dC5zcGxpY2UoaW5kZXgsIDEpWzBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhcmRzID0gb3V0cHV0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Q2FyZFtdfVxuICAgICAqL1xuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcmRzLnNsaWNlKDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcmRzLnRvU3RyaW5nKCk7XG4gICAgfVxufTsiLCJpbXBvcnQgQ2FyZENvbGxlY3Rpb24gZnJvbSAnLi9DYXJkQ29sbGVjdGlvbic7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL0NhcmQnO1xuXG5jb25zdCBDYXJkc0dlbmVyYXRvciA9IHtcbiAgICBDQVJEX1dJRFRIOiAzNzAgLyA0LFxuICAgIENBUkRfSEVJR0hUOiA1MjIgLyA0LFxuICAgIEpPS0VSOiAnSm9rZXInLFxuICAgIEpPS0VSX1ZBTFVFOiAxMyxcbiAgICBTVUlUUzogWyAnU3BhZGVzJywgJ0hlYXJ0cycsICdEaWFtb25kcycsICdDbHVicycgXSxcbiAgICBWQUxVRV9MQUJFTFM6IFsgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCcsICdKYWNrJywgJ1F1ZWVuJywgJ0tpbmcnLCAnQWNlJyBdLFxuICAgIGdlbmVyYXRlQ2FyZHMoKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBzdWl0SW5kZXggPSAwOyBzdWl0SW5kZXggPCBDYXJkc0dlbmVyYXRvci5TVUlUUy5sZW5ndGg7IHN1aXRJbmRleCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB2YWx1ZUluZGV4ID0gMDsgdmFsdWVJbmRleCA8IENhcmRzR2VuZXJhdG9yLlZBTFVFX0xBQkVMUy5sZW5ndGg7IHZhbHVlSW5kZXgrKykge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG5ldyBDYXJkKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IENhcmRzR2VuZXJhdG9yLkNBUkRfV0lEVEgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogQ2FyZHNHZW5lcmF0b3IuQ0FSRF9IRUlHSFQsXG4gICAgICAgICAgICAgICAgICAgIHN1aXQ6IHN1aXRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlSW5kZXhcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDI7IGluZGV4KyspIHtcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG5ldyBDYXJkKHsgXG4gICAgICAgICAgICAgICAgd2lkdGg6IENhcmRzR2VuZXJhdG9yLkNBUkRfV0lEVEgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBDYXJkc0dlbmVyYXRvci5DQVJEX0hFSUdIVCxcbiAgICAgICAgICAgICAgICBzdWl0OiBDYXJkc0dlbmVyYXRvci5KT0tFUixcbiAgICAgICAgICAgICAgICB2YWx1ZTogQ2FyZHNHZW5lcmF0b3IuSk9LRVJfVkFMVUVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENhcmRDb2xsZWN0aW9uKG91dHB1dCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FyZHNHZW5lcmF0b3I7XG4iLCJpbXBvcnQgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCBVcGRhdGFibGVDb250YWluZXIgZnJvbSAnLi4vY29udGFpbmVycy9VcGRhdGFibGVDb250YWluZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lYXJMYXlvdXQgZXh0ZW5kcyBVcGRhdGFibGVDb250YWluZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNoaWxkTWFyZ2luID0gMDtcbiAgICAgICAgaWYgKCd4JyBpbiBvcHRpb25zKSB0aGlzLnggPSBvcHRpb25zLng7XG4gICAgICAgIGlmICgneScgaW4gb3B0aW9ucykgdGhpcy55ID0gb3B0aW9ucy55O1xuICAgICAgICBpZiAoJ2NoaWxkTWFyZ2luJyBpbiBvcHRpb25zKSB0aGlzLmNoaWxkTWFyZ2luID0gb3B0aW9ucy5jaGlsZE1hcmdpbjtcbiAgICAgICAgdGhpcy5zZXRPcmllbnRhdGlvbihvcHRpb25zLm9yaWVudGF0aW9uIHx8IExpbmVhckxheW91dC5PUklFTlRBVElPTl9WRVJUSUNBTCk7XG4gICAgfVxuXG4gICAgc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pIHtcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBMaW5lYXJMYXlvdXQuT1JJRU5UQVRJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bvc1Byb3BlcnR5TmFtZSA9ICd5JztcbiAgICAgICAgICAgIHRoaXMuX3NpemVQcm9wZXJ0eU5hbWUgPSAnaGVpZ2h0JztcbiAgICAgICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gTGluZWFyTGF5b3V0Lk9SSUVOVEFUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bvc1Byb3BlcnR5TmFtZSA9ICd4JztcbiAgICAgICAgICAgIHRoaXMuX3NpemVQcm9wZXJ0eU5hbWUgPSAnd2lkdGgnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRQb3NpdGlvbihjaGlsZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGNoaWxkSW5kZXgpO1xuICAgICAgICByZXR1cm4gbmV3IFBJWEkuUG9pbnQodGhpcy54IC0gdGhpcy5waXZvdC54ICsgY2hpbGQueCAtIGNoaWxkLnBpdm90LngsIHRoaXMueSAtIHRoaXMucGl2b3QueSArIGNoaWxkLnkgLSBjaGlsZC5waXZvdC55KTtcbiAgICB9XG5cbiAgICB1cGRhdGUoZ2FtZSkge1xuICAgICAgICBzdXBlci51cGRhdGUoZ2FtZSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW5Qb3NpdGlvbigpO1xuICAgIH1cblxuICAgIHVwZGF0ZUNoaWxkcmVuUG9zaXRpb24oKSB7XG4gICAgICAgIGxldCBwb3MgPSAwO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXhdW3RoaXMuX3Bvc1Byb3BlcnR5TmFtZV0gPSBwb3M7XG4gICAgICAgICAgICBwb3MgKz0gdGhpcy5jaGlsZHJlbltpbmRleF1bdGhpcy5fc2l6ZVByb3BlcnR5TmFtZV0gKyB0aGlzLmNoaWxkTWFyZ2luO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5MaW5lYXJMYXlvdXQuT1JJRU5UQVRJT05fVkVSVElDQUwgPSAxO1xuTGluZWFyTGF5b3V0Lk9SSUVOVEFUSU9OX0hPUklaT05UQUwgPSAyOyIsImltcG9ydCBDYXJkc0dlbmVyYXRvciBmcm9tICcuL0NhcmRzR2VuZXJhdG9yJztcbmltcG9ydCBDYXJkQ29sbGVjdGlvbiBmcm9tICcuL0NhcmRDb2xsZWN0aW9uJztcbmltcG9ydCBMaW5lYXJMYXlvdXQgZnJvbSAnLi9ndWkvTGluZWFyTGF5b3V0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyQXJlYSBleHRlbmRzIExpbmVhckxheW91dCB7XG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICBzdXBlcih7IFxuICAgICAgICAgICAgeCwgeSwgXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogTGluZWFyTGF5b3V0Lk9SSUVOVEFUSU9OX0hPUklaT05UQUwsXG4gICAgICAgICAgICBjaGlsZE1hcmdpbjogMTdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZENhcmRzVG9CZUNoYW5nZWQgPSBbXTtcbiAgICB9XG5cbiAgICBhZGRDaGlsZCguLi5jYXJkKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IHN1cGVyLmFkZENoaWxkKC4uLmNhcmQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5waXZvdC5zZXQodGhpcy53aWR0aC8yLCB0aGlzLmhlaWdodC8yKTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICB1cGRhdGUoZ2FtZSkge31cblxuICAgIGdldENhcmRzKCkge1xuICAgICAgICByZXR1cm4gbmV3IENhcmRDb2xsZWN0aW9uKHRoaXMuY2hpbGRyZW4uc2xpY2UoMCkpO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KGluZGV4LCBzd3QpIHtcbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZDYXJkID0gdGhpcy5zZWxlY3RlZENhcmRzVG9CZUNoYW5nZWQuaW5kZXhPZihjYXJkKVxuICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gaW5kZXhPZkNhcmQgPiAtMTtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgc3d0IHx8ICFpc1NlbGVjdGVkICYmICFzd3QpIHJldHVybjsgXG4gICAgICAgIGlmIChzd3QpIHRoaXMuc2VsZWN0ZWRDYXJkc1RvQmVDaGFuZ2VkLnB1c2goY2FyZCk7XG4gICAgICAgIGVsc2UgdGhpcy5zZWxlY3RlZENhcmRzVG9CZUNoYW5nZWQuc3BsaWNlKGluZGV4T2ZDYXJkLCAxKTtcbiAgICAgICAgY2FyZC55ICs9IHN3dCA/IC0yMCA6IDIwO1xuICAgIH1cbiAgICBcbn0iLCJmdW5jdGlvbiBfaWRlbnRpdHkoZCkge3JldHVybiBkO31cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdW5pcShhcnJheSwgcHJlZGljYXRlID0gX2lkZW50aXR5KSB7XG4gICAgdmFyIG91dHB1dCA9IFtdO1xuICAgIHZhciBpZHMgPSBbXTtcbiAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChkKcKge1xuICAgICAgY29uc3QgaWQgPSBwcmVkaWNhdGUoZCk7XG4gICAgICBpZiAoaWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICBvdXRwdXQucHVzaChkKTtcbiAgICAgICAgaWRzLnB1c2goaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbn07IiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIENvbXBhcmU6IHtcbiAgICAgICAgYXNjKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYSA8IGIpIHJldHVybiAtMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9LFxuICAgICAgICBkZXNjKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEgPCBiKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHZhbHVlLCBtYXgpLCBtaW4pO1xuICAgIH1cbn07IiwiaW1wb3J0IENhcmRDb2xsZWN0aW9uIGZyb20gJy4vQ2FyZENvbGxlY3Rpb24nO1xuaW1wb3J0IEFycmF5cyBmcm9tICcuL0FycmF5cyc7XG5pbXBvcnQgTnVtYmVycyBmcm9tICcuL051bWJlcnMnO1xuXG5leHBvcnQgdmFyIENvbWJvVHlwZSA9IHtcbiAgICBIaWdoZXJDYXJkOiAxLFxuICAgIFBhaXI6IDIsXG4gICAgVHdvUGFpcjogMyxcbiAgICBUaHJlZU9mQUtpbmQ6IDQsXG4gICAgU3RyYWlnaHQ6IDUsXG4gICAgRmx1c2g6IDYsXG4gICAgRnVsbEhvdXNlOiA3LFxuICAgIEZvdXJPZkFLaW5kOiA4LFxuICAgIFN0cmFpZ2h0Rmx1c2g6IDksXG4gICAgRml2ZU9mQUtpbmQ6IDEwXG59O1xuXG5leHBvcnQgY2xhc3MgQ2FyZENvbWJvTGlzdCB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYXJkQ29sbGVjdGlvbn0gY2FyZHNDb2xsZWN0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2FyZHNDb2xsZWN0aW9uKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb2xsZWN0aW9uID0gY2FyZHNDb2xsZWN0aW9uO1xuICAgICAgICB0aGlzLmNvbWJvcyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJzZShjYXJkc0NvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIGFkZEFsbChvYmplY3RzKSB7XG4gICAgICAgIG9iamVjdHMuZm9yRWFjaCgoZCkgPT4gdGhpcy5hZGQoZCkpO1xuICAgIH1cblxuICAgIGFkZChvYmplY3QpIHtcbiAgICAgICAgbGV0IGNhcmRDb21ibztcbiAgICAgICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgQ2FyZENvbWJvKSkge1xuICAgICAgICAgICAgY2FyZENvbWJvID0gbmV3IENhcmRDb21ibyhvYmplY3QpO1xuICAgICAgICB9IGVsc2UgY2FyZENvbWJvID0gb2JqZWN0O1xuICAgICAgICB0aGlzLmNvbWJvcy5wdXNoKGNhcmRDb21ibyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldEhpZ2hlckNvbWJvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21ib3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEudHlwZSA+IGIudHlwZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEudHlwZSA8IGIudHlwZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSlbMF07XG4gICAgfVxuXG4gICAgX3BhcnNlKCkge1xuICAgICAgICAvLyAxLSBIaWdoZXJDYXJkXG4gICAgICAgIHRoaXMuYWRkKHsgdHlwZTogQ29tYm9UeXBlLkhpZ2hlckNhcmQsIGNhcmQ6IHRoaXMuX2dldEhpZ2hlckNhcmQoKSB9KTtcbiAgICAgICAgLy8gMiAtIFBhaXJcbiAgICAgICAgLy8gNCAtIFRocmVlT2ZBS2luZFxuICAgICAgICAvLyA4IC0gRm91ck9mQUtpbmRcbiAgICAgICAgLy8gMTAgLSBGaXZlT2ZBS2luZFxuICAgICAgICB0aGlzLmFkZEFsbCh0aGlzLl9nZXRYT2ZBS2luZCgpKTtcbiAgICAgICAgLy8gMyAtIFR3b1BhaXJcbiAgICAgICAgY29uc3QgdHdvUGFpcnNDb21ibyA9IHRoaXMuX2dldFR3b1BhaXJzKCk7XG4gICAgICAgIGlmICh0d29QYWlyc0NvbWJvKSB0aGlzLmFkZCh0d29QYWlyc0NvbWJvKTtcbiAgICAgICAgLy8gNSAtIFN0cmFpZ2h0XG4gICAgICAgIGNvbnN0IHN0cmFpZ2h0Q29tYm8gPSB0aGlzLl9nZXRTdHJhaWdodCgpO1xuICAgICAgICBpZiAoc3RyYWlnaHRDb21ibykgdGhpcy5hZGQoc3RyYWlnaHRDb21ibyk7XG4gICAgICAgIC8vIDYgLSBGbHVzaFxuICAgICAgICBjb25zdCBmbHVzaENvbWJvID0gdGhpcy5fZ2V0Rmx1c2goKTtcbiAgICAgICAgaWYgKGZsdXNoQ29tYm8pIHRoaXMuYWRkKGZsdXNoQ29tYm8pO1xuICAgICAgICAvLyA3IC0gRnVsbEhvdXNlXG4gICAgICAgIGNvbnN0IGZ1bGxIb3VzZUNvbWJvID0gdGhpcy5fZ2V0RnVsbEhvdXNlKCk7XG4gICAgICAgIGlmIChmdWxsSG91c2VDb21ibykgdGhpcy5hZGQoZnVsbEhvdXNlQ29tYm8pO1xuICAgICAgICAvLyA5IC0gU3RyYWlnaHRGbHVzaFxuICAgICAgICBjb25zdCBzdHJhaWdodEZsdXNoQ29tYm8gPSB0aGlzLl9nZXRTdHJhaWdodEZsdXNoKCk7XG4gICAgICAgIGlmIChzdHJhaWdodEZsdXNoQ29tYm8pIHRoaXMuYWRkKHN0cmFpZ2h0Rmx1c2hDb21ibyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNvbWJvcy5zb3J0KChhLCBiKSA9PiBOdW1iZXJzLkNvbXBhcmUuZGVzYyhhLmdldFNjb3JlKCksIGIuZ2V0U2NvcmUoKSkpO1xuICAgIH1cblxuICAgIF9nZXRIaWdoZXJDYXJkKCnCoHtcbiAgICAgICAgY29uc3QgY2FyZHMgPSB0aGlzLm9yaWdpbmFsQ29sbGVjdGlvbi50b0FycmF5KCk7XG4gICAgICAgIHJldHVybiBjYXJkcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS52YWx1ZSA+IGIudmFsdWUpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLnZhbHVlIDwgYi52YWx1ZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSlbMF07XG4gICAgfVxuXG4gICAgX2dldFR3b1BhaXJzKCkge1xuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICB0aGlzLmNvbWJvcy5mb3JFYWNoKGZ1bmN0aW9uIChjb21ibykge1xuICAgICAgICAgICAgaWYgKGNvbWJvLnR5cGUgPT09IENvbWJvVHlwZS5QYWlyKSBwYWlycy5wdXNoKGNvbWJvKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYWlycy5sZW5ndGggPT09IDIgJiYgdGhpcy5faXNBbGxDYXJkRGlmZmVyZW50cyhwYWlyc1swXSwgcGFpcnNbMV0pKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FyZENvbWJvKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBDb21ib1R5cGUuVHdvUGFpcixcbiAgICAgICAgICAgICAgICBjYXJkczogW10uY29uY2F0KC4uLnBhaXJzLm1hcCgoZCkgPT4gZC5jYXJkcy50b0FycmF5KCkpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0WE9mQUtpbmQoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRzID0gdGhpcy5vcmlnaW5hbENvbGxlY3Rpb24udG9BcnJheSgpO1xuICAgICAgICBjb25zdCBjb21ib3MgPSBbXTtcbiAgICAgICAgY29uc3QgY29tYm9UeXBlTWFwcGVyID0ge1xuICAgICAgICAgICAgMjogQ29tYm9UeXBlLlBhaXIsXG4gICAgICAgICAgICAzOiBDb21ib1R5cGUuVGhyZWVPZkFLaW5kLFxuICAgICAgICAgICAgNDogQ29tYm9UeXBlLkZvdXJPZkFLaW5kLFxuICAgICAgICAgICAgNTogQ29tYm9UeXBlLkZpdmVPZkFLaW5kXG4gICAgICAgIH07XG4gICAgICAgIGNhcmRzLmZvckVhY2goKGNhcmQsIGNhcmRJbmRleCwgY2FyZHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZUNhcmRzID0gWyBjYXJkIF07XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY2FyZHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmQgIT09IGNhcmRzW2luZGV4XSAmJiAoY2FyZC52YWx1ZSA9PT0gY2FyZHNbaW5kZXhdLnZhbHVlIHx8IGNhcmRzW2luZGV4XS5pc0pva2VyKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZUNhcmRzLnB1c2goY2FyZHNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9jYWxlQ2FyZHMubGVuZ3RoID4gMSAmJiBsb2NhbGVDYXJkcy5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgICAgICAgY29tYm9zLnB1c2gobmV3IENhcmRDb21ibyh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbWJvVHlwZU1hcHBlcltsb2NhbGVDYXJkcy5sZW5ndGhdLFxuICAgICAgICAgICAgICAgICAgICBjYXJkczogbG9jYWxlQ2FyZHNcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gQXJyYXlzLnVuaXEoY29tYm9zLCAoZCkgPT4gZC5nZXRJZCgpKTtcbiAgICB9XG5cbiAgICBfZ2V0RnVsbEhvdXNlKCkge1xuICAgICAgICBjb25zdCBwYWlyID0gdGhpcy5jb21ib3MuZmluZCgoZCkgPT4gZC50eXBlID09PSBDb21ib1R5cGUuUGFpcik7XG4gICAgICAgIGNvbnN0IHRocmVlT2ZBS2luZCA9IHRoaXMuY29tYm9zLmZpbmQoKGQpID0+IGQudHlwZSA9PT0gQ29tYm9UeXBlLlRocmVlT2ZBS2luZCk7XG4gICAgICAgIGlmIChwYWlyICYmIHRocmVlT2ZBS2luZCAmJiB0aGlzLl9pc0FsbENhcmREaWZmZXJlbnRzKHBhaXIsIHRocmVlT2ZBS2luZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FyZENvbWJvKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBDb21ib1R5cGUuRnVsbEhvdXNlLFxuICAgICAgICAgICAgICAgIGNhcmRzOiBbXS5jb25jYXQocGFpci5nZXRDYXJkcygpLCB0aHJlZU9mQUtpbmQuZ2V0Q2FyZHMoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldFN0cmFpZ2h0KCkge1xuICAgICAgICBjb25zdCBjYXJkcyA9IHRoaXMub3JpZ2luYWxDb2xsZWN0aW9uLnRvQXJyYXkoKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gY2FyZHMubWFwKChkKSA9PiBkLnZhbHVlKS5zb3J0KE51bWJlcnMuQ29tcGFyZS5hc2MpO1xuICAgICAgICBsZXQgam9rZXJzID0gY2FyZHMuZmlsdGVyKChkKSA9PiBkLmlzSm9rZXIoKSkubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDEsIHZhbHVlID0gdmFsdWVzWzBdOyBpbmRleCA8IHZhbHVlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdmFsdWUgKyAxID09PSB2YWx1ZXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFtYXRjaCAmJiBqb2tlcnMgPT09IDApIHJldHVybjtcbiAgICAgICAgICAgIGlmICghbWF0Y2gpIGpva2Vycy0tO1xuICAgICAgICAgICAgdmFsdWUrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENhcmRDb21ibyh7XG4gICAgICAgICAgICB0eXBlOiBDb21ib1R5cGUuU3RyYWlnaHQsXG4gICAgICAgICAgICBjYXJkczogY2FyZHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2dldEZsdXNoKCkge1xuICAgICAgICBjb25zdCBjYXJkcyA9IHRoaXMub3JpZ2luYWxDb2xsZWN0aW9uLnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IGJsYWNrID0gMCwgcmVkID0gMDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNhcmRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKGNhcmRzW2luZGV4XS5pc0pva2VyKCkpIHtcbiAgICAgICAgICAgICAgICBibGFjaysrO1xuICAgICAgICAgICAgICAgIHJlZCsrO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvU3BhZGVzfENsdWJzLy50ZXN0KGNhcmRzW2luZGV4XS5nZXRTdWl0KCkpKSB7XG4gICAgICAgICAgICAgICAgYmxhY2srKztcbiAgICAgICAgICAgIH0gZWxzZSByZWQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmxhY2sgPT09IGNhcmRzLmxlbmd0aCB8fCByZWQgPT09IGNhcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXJkQ29tYm8oe1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbWJvVHlwZS5GbHVzaCxcbiAgICAgICAgICAgICAgICBjYXJkczogY2FyZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IFxuICAgIH1cblxuICAgIF9nZXRTdHJhaWdodEZsdXNoKCkge1xuICAgICAgICBjb25zdCBmbHVzaCA9IHRoaXMuY29tYm9zLmZpbmQoKGQpID0+IGQudHlwZSA9PT0gQ29tYm9UeXBlLkZsdXNoKTtcbiAgICAgICAgY29uc3Qgc3RyYWlnaHQgPSB0aGlzLmNvbWJvcy5maW5kKChkKSA9PiBkLnR5cGUgPT09IENvbWJvVHlwZS5TdHJhaWdodCk7XG4gICAgICAgIGlmIChmbHVzaCAmJiBzdHJhaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXJkQ29tYm8oe1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbWJvVHlwZS5TdHJhaWdodEZsdXNoLFxuICAgICAgICAgICAgICAgIGNhcmRzOiBmbHVzaC5nZXRDYXJkcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29tYm99IGMxXG4gICAgICogQHBhcmFtIHtDb21ib30gYzJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfaXNBbGxDYXJkRGlmZmVyZW50cyhjMSwgYzIpIHtcbiAgICAgICAgY29uc3QgYzFDYXJkcyA9IGMxLmdldENhcmRzKCk7XG4gICAgICAgIGNvbnN0IGMyQ2FyZHMgPSBjMi5nZXRDYXJkcygpO1xuICAgICAgICBmb3IgKGxldCBpMSA9IDA7IGkxIDwgYzFDYXJkcy5sZW5ndGg7IGkxKyspXG4gICAgICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgYzJDYXJkcy5sZW5ndGg7IGkyKyspXG4gICAgICAgICAgICAgICAgaWYgKGMxQ2FyZHNbaTFdID09PSBjMkNhcmRzW2kyXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tYm9zLmpvaW4oJ1xcbicpO1xuICAgIH1cblxufVxuLy8gVE9ETzogVEVTVCBLIDQgNCBLIEpcbmV4cG9ydCBjbGFzcyBDYXJkQ29tYm8ge1xuXG4gICAgY29uc3RydWN0b3Iob2JqZWN0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9IG9iamVjdC50eXBlO1xuICAgICAgICB0aGlzLmNhcmRzID0gbmV3IENhcmRDb2xsZWN0aW9uKCk7XG4gICAgICAgIGlmIChvYmplY3QuY2FyZHMpIHRoaXMuY2FyZHMuYWRkQWxsKG9iamVjdC5jYXJkcyk7XG4gICAgICAgIGVsc2UgaWYgKG9iamVjdC5jYXJkKSB0aGlzLmNhcmRzLmFkZChvYmplY3QuY2FyZCk7XG4gICAgICAgIHRoaXMuZ2V0Q2FyZHMoKS5zb3J0KChhLCBiKSA9PiBOdW1iZXJzLkNvbXBhcmUuYXNjKGEudmFsdWUsIGIudmFsdWUpKTtcbiAgICB9XG5cbiAgICBnZXRDYXJkKCkgeyByZXR1cm4gdGhpcy5jYXJkcy5wZWVrKCk7IH1cbiAgICBnZXRDYXJkcygpIHsgcmV0dXJuIHRoaXMuY2FyZHMuY2FyZHM7IH1cblxuICAgIF9zb3J0Q2FyZHMoKcKge1xuICAgICAgICB0aGlzLmdldENhcmRzKCkuc29ydCgoYSwgYikgPT4geyByZXR1cm4gTnVtYmVycy5Db21wYXJlLmFzYyhhLnN1aXQsIGIuc3VpdCk7IH0pO1xuICAgIH1cbiAgICBcbiAgICBnZXRJZCgpIHtcbiAgICAgICAgdGhpcy5fc29ydENhcmRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENhcmRzKCkubWFwKChkKSA9PiBgJHtkLnZhbHVlfSYke2Quc3VpdH1gKS5qb2luKCcvJyk7XG4gICAgfVxuXG4gICAgZ2V0U2NvcmUoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRzID0gdGhpcy5nZXRDYXJkcygpO1xuICAgICAgICBsZXQgb3V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNhcmRzLmxlbmd0aDsgaW5kZXgrKykgb3V0ICs9IGNhcmRzW2luZGV4XS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG91dCArIHRoaXMudHlwZSAqIDEwO1xuICAgIH1cblxuICAgIGdldFR5cGVOYW1lKCnCoHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKENvbWJvVHlwZSk7XG4gICAgICAgIHJldHVybiBrZXlzLmZpbmQoKGtleSkgPT4gQ29tYm9UeXBlW2tleV0gPT09IHRoaXMudHlwZSk7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmdldFR5cGVOYW1lKCl9IHsgJHt0aGlzLmdldENhcmRzKCkuam9pbignLCAnKX0gfWA7XG4gICAgfVxuXG59IiwiZXhwb3J0IHZhciBEZWJ1ZyA9IHtcbiAgICB0ZXh0Q29uZmlnOiB7XG4gICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgZm9udEZhbWlseTogJ0NvbnNvbGFzJyxcbiAgICAgICAgZmlsbDogMFxuICAgIH1cbn07IiwiaW1wb3J0IFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQge0RlYnVnfSBmcm9tICcuLi8uLi9Db25maWcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHVUlDb21ib3NMaXN0IGV4dGVuZHMgUElYSS5UZXh0IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJycsIERlYnVnLnRleHRDb25maWcpO1xuICAgIH1cblxuICAgIHVwZGF0ZShnYW1lKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IGdhbWUuZ2V0Q2FyZENvbWJvTGlzdCgpLnRvU3RyaW5nKCk7XG4gICAgfVxufSIsImxldCBrZXlib2FyZFN0YXRlID0gbmV3IE1hcCgpO1xubGV0IGxhc3RLZXlib2FyZFN0YXRlID0gbmV3IE1hcCgpO1xuY29uc3Qga2V5Ym9hcmRFdmVudEhhbmRsZXJzID0gbmV3IE1hcCgpO1xuY29uc3QgS2V5Ym9hcmQgPSB7XG4gIDA6IDQ4LFxuICAxOiA0OSxcbiAgMjogNTAsXG4gIDM6IDUxLFxuICA0OiA1MixcbiAgNTogNTMsXG4gIDY6IDU0LFxuICA3OiA1NSxcbiAgODogNTYsXG4gIDk6IDU3LFxuICBCQUNLU1BBQ0U6IDgsXG4gIFRBQjogOSxcbiAgRU5URVI6IDEzLFxuICBTSElGVDogMTYsXG4gIENUUkw6IDE3LFxuICBBTFQ6IDE4LFxuICBQQVVTRTogMTksXG4gIENBUFNfTE9DSzogMjAsXG4gIEVTQ0FQRTogMjcsXG4gIFNQQUNFOiAzMixcbiAgUEFHRV9VUDogMzMsXG4gIFBBR0VfRE9XTjogMzQsXG4gIEVORDogMzUsXG4gIEhPTUU6IDM2LFxuICBMRUZUX0FSUk9XOiAzNyxcbiAgVVBfQVJST1c6IDM4LFxuICBSSUdIVF9BUlJPVzogMzksXG4gIERPV05fQVJST1c6IDQwLFxuICBJTlNFUlQ6IDQ1LFxuICBERUxFVEU6IDQ2LFxuICBBOiA2NSxcbiAgQjogNjYsXG4gIEM6IDY3LFxuICBEOiA2OCxcbiAgRTogNjksXG4gIEY6IDcwLFxuICBHOiA3MSxcbiAgSDogNzIsXG4gIEk6IDczLFxuICBKOiA3NCxcbiAgSzogNzUsXG4gIEw6IDc2LFxuICBNOiA3NyxcbiAgTjogNzgsXG4gIE86IDc5LFxuICBQOiA4MCxcbiAgUTogODEsXG4gIFI6IDgyLFxuICBTOiA4MyxcbiAgVDogODQsXG4gIFU6IDg1LFxuICBWOiA4NixcbiAgVzogODcsXG4gIFg6IDg4LFxuICBZOiA4OSxcbiAgWjogOTAsXG4gIExFRlRfV0lORE9XX0tFWTogOTEsXG4gIFJJR0hUX1dJTkRPV19LRVk6IDkyLFxuICBTRUxFQ1RfS0VZOiA5MyxcbiAgTlVNUEFEXzA6IDk2LFxuICBOVU1QQURfMTogOTcsXG4gIE5VTVBBRF8yOiA5OCxcbiAgTlVNUEFEXzM6IDk5LFxuICBOVU1QQURfNDogMTAwLFxuICBOVU1QQURfNTogMTAxLFxuICBOVU1QQURfNjogMTAyLFxuICBOVU1QQURfNzogMTAzLFxuICBOVU1QQURfODogMTA0LFxuICBOVU1QQURfOTogMTA1LFxuICBNVUxUSVBMWTogMTA2LFxuICBBREQ6IDEwNyxcbiAgU1VCVFJBQ1Q6IDEwOSxcbiAgREVDSU1BTF9QT0lOVDogMTEwLFxuICBESVZJREU6IDExMSxcbiAgRjE6IDExMixcbiAgRjI6IDExMyxcbiAgRjM6IDExNCxcbiAgRjQ6IDExNSxcbiAgRjU6IDExNixcbiAgRjY6IDExNyxcbiAgRjc6IDExOCxcbiAgRjg6IDExOSxcbiAgRjk6IDEyMCxcbiAgRjEwOiAxMjEsXG4gIEYxMTogMTIyLFxuICBGMTI6IDEyMyxcbiAgTlVNX0xPQ0s6IDE0NCxcbiAgU0NST0xMX0xPQ0s6IDE0NSxcbiAgU0VNSV9DT0xPTjogMTg2LFxuICBFUVVBTF9TSUdOOiAxODcsXG4gIENPTU1BOiAxODgsXG4gIERBU0g6IDE4OSxcbiAgUEVSSU9EOiAxOTAsXG4gIEZPUldBUkRfU0xBU0g6IDE5MSxcbiAgR1JBVkVfQUNDRU5UOiAxOTIsXG4gIE9QRU5fQlJBQ0tFVDogMjE5LFxuICBCQUNLX1NMQVNIOiAyMjAsXG4gIENMT1NFX0JSQUtFVDogMjIxLFxuICBTSU5HTEVfUVVPVEU6IDIyMixcbiAgaXNLZXlEb3duKGtleUNvZGUpIHtcbiAgICByZXR1cm4gISFrZXlib2FyZFN0YXRlLmdldChrZXlDb2RlKTtcbiAgfSxcbiAgaXNLZXlVcChrZXlDb2RlKSB7XG4gICAgcmV0dXJuICFrZXlib2FyZFN0YXRlLmdldChrZXlDb2RlKTtcbiAgfSxcbiAgaXNLZXlSZWxlYXNlZChrZXlDb2RlKSB7XG4gICAgcmV0dXJuIEtleWJvYXJkLmlzS2V5VXAoa2V5Q29kZSkgJiYgbGFzdEtleWJvYXJkU3RhdGUuZ2V0KGtleUNvZGUpO1xuICB9LFxuICBpc0tleVB1c2hlZChrZXlDb2RlKSB7XG4gICAgcmV0dXJuIEtleWJvYXJkLmlzS2V5RG93bihrZXlDb2RlKSAmJiAhbGFzdEtleWJvYXJkU3RhdGUuZ2V0KGtleUNvZGUpO1xuICB9LFxuICB1cGRhdGUoKSB7XG4gICAgbGFzdEtleWJvYXJkU3RhdGUgPSBrZXlib2FyZFN0YXRlO1xuICAgIGtleWJvYXJkU3RhdGUgPSBuZXcgTWFwKGxhc3RLZXlib2FyZFN0YXRlKTtcbiAgfVxufTtcbi8vIEtlZXAgc3RhdGUgb2YgYWxsIGFjdGlvblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAga2V5Ym9hcmRTdGF0ZS5zZXQoZXZlbnQua2V5Q29kZSwgZmFsc2UpO1xufSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGtleWJvYXJkU3RhdGUuc2V0KGV2ZW50LmtleUNvZGUsIHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkOyIsImltcG9ydCBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uL2xpYi9LZXlib2FyZCc7XG5pbXBvcnQgR2FtZSBmcm9tICcuLi9HYW1lJztcblxuaW1wb3J0IENhcmRzR2VuZXJhdG9yIGZyb20gJy4uL0NhcmRzR2VuZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR1VJQ2FyZFNlbGVjdG9yIGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBjb25zdCBXSURUSCA9IDIwO1xuICAgICAgICBjb25zdCBIRUlHSFQgPSBXSURUSCAqIDI7XG4gICAgICAgIHRoaXMuY2xlYXIoKVxuICAgICAgICAgICAgLmxpbmVTdHlsZSgzLCAwLCAxKVxuICAgICAgICAgICAgLm1vdmVUbyhXSURUSC8yLDApXG4gICAgICAgICAgICAubGluZVRvKFdJRFRILCBIRUlHSFQpXG4gICAgICAgICAgICAubGluZVRvKDAsIEhFSUdIVClcbiAgICAgICAgICAgIC5saW5lVG8oV0lEVEgvMiwwKTtcbiAgICAgICAgdGhpcy5waXZvdC5zZXQoV0lEVEggLyAyLCAwKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFkgPSB5O1xuICAgICAgICBpZiAoeCkgdGhpcy54ID0geDtcbiAgICAgICAgaWYgKHkpIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yQ2FyZEluZGV4KGdhbWUsIDApO1xuICAgIH1cblxuICAgIHNldEN1cnNvckNhcmRJbmRleChnYW1lLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gNCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IHAgPSBnYW1lLnBsYXllci5nZXRDaGlsZFBvc2l0aW9uKGluZGV4KTtcbiAgICAgICAgdGhpcy54ID0gcC54ICsgQ2FyZHNHZW5lcmF0b3IuQ0FSRF9XSURUSCAvIDI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtHYW1lfSBnYW1lXG4gICAgICovXG4gICAgdXBkYXRlKGdhbWUpIHtcbiAgICAgICAgdGhpcy55ICs9IE1hdGguY29zKGdhbWUuX2ZyYW1lIC8gMTApO1xuICAgICAgICBcbiAgICAgICAgaWYgKEtleWJvYXJkLmlzS2V5UHVzaGVkKEtleWJvYXJkLkxFRlRfQVJST1cpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvckNhcmRJbmRleChnYW1lLCB0aGlzLmluZGV4IC0gMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoS2V5Ym9hcmQuaXNLZXlQdXNoZWQoS2V5Ym9hcmQuUklHSFRfQVJST1cpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvckNhcmRJbmRleChnYW1lLCB0aGlzLmluZGV4ICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoS2V5Ym9hcmQuaXNLZXlQdXNoZWQoS2V5Ym9hcmQuVVBfQVJST1cpKSB7XG4gICAgICAgICAgICBnYW1lLnBsYXllci5zZXRTZWxlY3RlZENhcmRJbmRleCh0aGlzLmluZGV4LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChLZXlib2FyZC5pc0tleVB1c2hlZChLZXlib2FyZC5ET1dOX0FSUk9XKSkge1xuICAgICAgICAgICAgZ2FtZS5wbGF5ZXIuc2V0U2VsZWN0ZWRDYXJkSW5kZXgodGhpcy5pbmRleCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKEtleWJvYXJkLmlzS2V5UHVzaGVkKEtleWJvYXJkLkVOVEVSKSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IFBJWEkgZnJvbSAncGl4aS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdVSVRleHQgZXh0ZW5kcyBQSVhJLlRleHQge1xuICAgIGNvbnN0cnVjdG9yKHRleHQsIHRleHRTdHlsZSkge1xuICAgICAgICBzdXBlcih0ZXh0LCB0ZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnRhZ3MgPSBbICdndWknIF07XG4gICAgfVxuICAgIHVwZGF0ZSgpIHt9XG59IiwiY29uc3QgaXNNZSA9ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzTWUnKTtcbmNvbnN0IHN0b3BUcmFja2luZyA9ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1N0b3BUcmFja2luZycpIHx8IC9sb2NhbGhvc3RcXDo4MDgwLy50ZXN0KGxvY2F0aW9uLnRvU3RyaW5nKCkpIHx8IHR5cGVvZiBtaXhwYW5lbCA9PT0gJ3VuZGVmaW5lZCc7XG5cbmlmIChzdG9wVHJhY2tpbmcpIGNvbnNvbGUubG9nKCdzdG9wLXRyYWNraW5nJyk7XG5cbmlmIChpc01lKSB7XG4gICAgbWl4cGFuZWwuaWRlbnRpZnkoJzEnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgdHJhY2soZXZlbnROYW1lLCBwcm9wZXJ0aWVzLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoc3RvcFRyYWNraW5nKSByZXR1cm47XG4gICAgICAgIG1peHBhbmVsLnRyYWNrKGV2ZW50TmFtZSwgcHJvcGVydGllcywgY2FsbGJhY2spO1xuICAgIH1cbn07XG5cbiIsImltcG9ydCBVcGRhdGFibGVDb250YWluZXIgZnJvbSAnLi9jb250YWluZXJzL1VwZGF0YWJsZUNvbnRhaW5lcic7XG5pbXBvcnQgQ2FyZHNHZW5lcmF0b3IgZnJvbSAnLi9DYXJkc0dlbmVyYXRvcic7XG5pbXBvcnQgUGxheWVyQXJlYSBmcm9tICcuL1BsYXllckFyZWEnO1xuaW1wb3J0IHtDYXJkQ29tYm9MaXN0fSBmcm9tICcuL0NhcmRDb21ib0xpc3QnO1xuaW1wb3J0IExpbmVhckxheW91dCBmcm9tICcuL2d1aS9MaW5lYXJMYXlvdXQnO1xuaW1wb3J0IEdVSUNvbWJvc0xpc3QgZnJvbSAnLi9ndWkvZGVidWcvR1VJQ29tYm9zTGlzdCc7XG5pbXBvcnQgR1VJQ2FyZFNlbGVjdG9yIGZyb20gJy4vZ3VpL0dVSUNhcmRTZWxlY3Rvcic7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9saWIvS2V5Ym9hcmQnO1xuaW1wb3J0IEdVSVRleHQgZnJvbSAnLi9saWIvR1VJVGV4dCc7XG5pbXBvcnQgVHJhY2tlciBmcm9tICcuL1RyYWNrZXInO1xuXG5jb25zdCB0aWNrZXIgPSBQSVhJLnRpY2tlci5zaGFyZWQ7Ly9uZXcgUElYSS50aWNrZXIuVGlja2VyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9mcmFtZSA9IDA7XG4gICAgICAgIHRoaXMuY2FyZHMgPSBudWxsO1xuICAgICAgICB0aGlzLnBsYXllciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lLkdBTUVfSURMRTtcbiAgICAgICAgdGhpcy5wbGF5aW5nR2FtZVN0YXRlID0gR2FtZS5TVEFURV9QTEFZSU5HX0NIT09TRV9CRVQ7XG5cbiAgICAgICAgdGhpcy5mZyA9IG5ldyBVcGRhdGFibGVDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5ndWkgPSBuZXcgVXBkYXRhYmxlQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuZmcpO1xuICAgICAgICB0aGlzLnJlbmRlcmluZ0NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLmd1aSk7XG4gICAgICAgIC8vIGNyZWF0ZSByZW5kZXJlclxuICAgICAgICBjb25zdCByZW5kZXJlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0cmFuc3BhcmVudDogb3B0aW9ucy50cmFuc3BhcmVudCB8fCBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9SZXNpemU6IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZSxcbiAgICAgICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMgfHwgZmFsc2UsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBvcHRpb25zLnJlc29sdXRpb24gfHwgMSxcbiAgICAgICAgICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIHJvdW5kUGl4ZWxzOiBvcHRpb25zLnJvdW5kUGl4ZWxzIHx8IHRydWVcbiAgICAgICAgfTsgXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zLndpZHRoIHx8IDgwMCwgb3B0aW9ucy5oZWlnaHQgfHwgNjAwLCByZW5kZXJlck9wdGlvbnMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLnJlbmRlcmVyLndpZHRoLCB0aGlzLnJlbmRlcmVyLmhlaWdodCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckdhbWUoKTtcbiAgICAgICAgdGhpcy5mZy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZ3VpLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmcgPSBudWxsO1xuICAgICAgICB0aGlzLmd1aSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGNsZWFyR2FtZSgpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuY2FyZHMgPSBudWxsO1xuICAgICAgICB0aGlzLnBsYXllciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmcucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy5ndWkucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICBuZXdHYW1lKCkge1xuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWUuR0FNRV9JRExFO1xuICAgICAgICB0aGlzLnBsYXlpbmdHYW1lU3RhdGUgPSBHYW1lLlNUQVRFX1BMQVlJTkdfQ0hPT1NFX0JFVDtcblxuICAgICAgICBjb25zdCBzdGFnZVdpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgY29uc3Qgc3RhZ2VIZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyQXJlYShzdGFnZVdpZHRoLzIsIHN0YWdlSGVpZ2h0LzMqMik7XG5cbiAgICAgICAgdGhpcy5mZy5hZGRDaGlsZCh0aGlzLnBsYXllcik7XG4gICAgICAgIC8vdGhpcy5ndWkuYWRkQ2hpbGQobmV3IEdVSUNvbWJvc0xpc3QoKSk7IFxuICAgICAgICB0aGlzLmNsZWFyQm9hcmQoKTtcbiAgICAgICAgdGhpcy5zZXRQbGF5aW5nU3RhdGUoR2FtZS5TVEFURV9QTEFZSU5HX0NIT09TRV9DQVJEUyk7XG4gICAgICAgICAgXG4gICAgfVxuXG4gICAgY2xlYXJCb2FyZCgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy5jYXJkcyA9IENhcmRzR2VuZXJhdG9yLmdlbmVyYXRlQ2FyZHMoKS5zaHVmZmxlKCk7XG4gICAgfVxuXG4gICAgZGlzdHJpYnV0ZShjb3VudCkge1xuICAgICAgICBcbiAgICAgICAgLy8gY29uc3QgZm9yY2VkQ2FyZHMgPSAwO1xuICAgICAgICAvLyBbIDMsIDIsIDEsIDAsIENhcmRzR2VuZXJhdG9yLkpPS0VSX1ZBTFVFIF0uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpwqB7XG4gICAgICAgIC8vICAgICBjb25zdCBjYXJkID0gdGhpcy5jYXJkcy5nZXRCeVZhbHVlKHZhbHVlKTtcbiAgICAgICAgLy8gICAgIHRoaXMucGxheWVyLmFkZENoaWxkKGNhcmQpO1xuICAgICAgICAvLyAgICAgdGhpcy5jYXJkcy5yZW1vdmUoY2FyZCk7XG4gICAgICAgIC8vIH0sIHRoaXMpO1xuICAgICAgICAvLyAvLyBmb3IgKGxldCBpID0gMDsgaSA8IGZvcmNlZENhcmRzOyBpKyspIHtcbiAgICAgICAgLy8gLy8gICAgIGxldCBjYXJkID0gdGhpcy5jYXJkcy5nZXRCeVZhbHVlKDIpO1xuICAgICAgICAvLyAvLyAgICAgaWYgKGkgPiAzKSBjYXJkID0gdGhpcy5jYXJkcy5nZXRCeVZhbHVlKDQpO1xuICAgICAgICAvLyAvLyAgICAgdGhpcy5wbGF5ZXIuYWRkQ2hpbGQoY2FyZClcbiAgICAgICAgLy8gLy8gICAgIHRoaXMuY2FyZHMucmVtb3ZlKGNhcmQpO1xuICAgICAgICAvLyAvLyB9XG4gICAgICAgIC8vIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgZm9yY2VkQ2FyZHM7IGkrKykge1xuICAgICAgICAvLyAvLyAgICAgbGV0IGNhcmQgPSB0aGlzLmNhcmRzLmdldEJ5VmFsdWUoaSArIDEpO1xuICAgICAgICAvLyAvLyAgICAgdGhpcy5wbGF5ZXIuYWRkQ2hpbGQoY2FyZClcbiAgICAgICAgLy8gLy8gICAgIHRoaXMuY2FyZHMucmVtb3ZlKGNhcmQpO1xuICAgICAgICAvLyAvLyB9XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBsZXQgY2FyZCA9IHRoaXMuY2FyZHMucGVlaygpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYWRkQ2hpbGQoY2FyZCk7XG4gICAgICAgICAgICB0aGlzLmNhcmRzLnJlbW92ZShjYXJkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BsYXlDYXJkQ3Vyc29yU2VsZWN0aW9uKCkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5wbGF5ZXIuZ2V0Q2hpbGRQb3NpdGlvbigwKTtcbiAgICAgICAgdGhpcy5ndWkuYWRkQ2hpbGQobmV3IEdVSUNhcmRTZWxlY3RvcihwLnggKyBDYXJkc0dlbmVyYXRvci5DQVJEX1dJRFRIIC8gMiwgcC55ICsgQ2FyZHNHZW5lcmF0b3IuQ0FSRF9IRUlHSFQgKyAxMCkpO1xuICAgIH1cblxuICAgIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gc3RhdGU7XG4gICAgfVxuXG4gICAgc2V0UGxheWluZ1N0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMucGxheWluZ0dhbWVTdGF0ZSA9IHN0YXRlO1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWUuU1RBVEVfUExBWUlOR19DSE9PU0VfQ0FSRFM6XG4gICAgICAgICAgICAgICAgVHJhY2tlci50cmFjaygnZ2FtZTpuZXcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5yZW1vdmVDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJCb2FyZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzdHJpYnV0ZSg1KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlDYXJkQ3Vyc29yU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWUuU1RBVEVfUExBWUlOR19ESVNQTEFZX1JJVkVSX1NDT1JFOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2hhbmdlcygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJvID0gdGhpcy5nZXRDYXJkQ29tYm9MaXN0KCkuZ2V0SGlnaGVyQ29tYm8oKTtcbiAgICAgICAgICAgICAgICBjb21iby5jYXJkcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBkLmhpZ2hsaWdodCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFRyYWNrZXIudHJhY2soJ2NvbWJvJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb21iby5nZXRUeXBlTmFtZSgpLFxuICAgICAgICAgICAgICAgICAgICBjYXJkczogY29tYm8uZ2V0Q2FyZHMoKS5tYXAoU3RyaW5nKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gbmV3IEdVSVRleHQoY29tYm8uZ2V0VHlwZU5hbWUoKSwgeyBmb250U2l6ZTogMzYgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ndWkuYWRkQ2hpbGQoc2NvcmUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lLlNUQVRFX1BMQVlJTkdfQ0hPT1NFX1JJU0s6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEZQUygpIHtcbiAgICAgICAgcmV0dXJuIHRpY2tlci5GUFM7XG4gICAgfVxuXG4gICAgaXNSdW5uaW5nKCkge1xuICAgICAgICByZXR1cm4gdGlja2VyLnN0YXJ0ZWQ7XG4gICAgfVxuXG4gICAgaXNQbGF5aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lU3RhdGUgPT09IEdhbWUuR0FNRV9QTEFZSU5HO1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgfVxuXG4gICAgc2V0U2l6ZSh3LCBoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt3fXB4YDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2h9cHhgO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLndpZHRoICE9PSB3IHx8IHRoaXMucmVuZGVyZXIuaGVpZ2h0ICE9PSBoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZSh3LCBoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gR2FtZS5HQU1FX0lETEUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKEdhbWUuU1RBVEVfUExBWUlORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMubG9vcCwgdGhpcyk7XG4gICAgICAgICAgICB0aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZygpKSB7XG4gICAgICAgICAgICB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgICAgdGlja2VyLnJlbW92ZSh0aGlzLmxvb3AsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9vcCh0aW1lKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lICs9IDE7XG5cbiAgICAgICAgdGhpcy5ndWkudXBkYXRlKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmdHYW1lU3RhdGUgPT09IEdhbWUuU1RBVEVfUExBWUlOR19DSE9PU0VfQ0FSRFMpIHtcbiAgICAgICAgICAgIGlmIChLZXlib2FyZC5pc0tleVB1c2hlZChLZXlib2FyZC5FTlRFUikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBsYXlpbmdTdGF0ZShHYW1lLlNUQVRFX1BMQVlJTkdfRElTUExBWV9SSVZFUl9TQ09SRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5aW5nR2FtZVN0YXRlID09PSBHYW1lLlNUQVRFX1BMQVlJTkdfRElTUExBWV9SSVZFUl9TQ09SRSkge1xuICAgICAgICAgICAgaWYgKEtleWJvYXJkLmlzS2V5UHVzaGVkKEtleWJvYXJkLlNQQUNFKSB8fCBLZXlib2FyZC5pc0tleVB1c2hlZChLZXlib2FyZC5FTlRFUikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBsYXlpbmdTdGF0ZShHYW1lLlNUQVRFX1BMQVlJTkdfQ0hPT1NFX0NBUkRTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMucmVuZGVyaW5nQ29udGFpbmVyKTtcbiAgICAgICAgS2V5Ym9hcmQudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgZ2V0Q2FyZENvbWJvTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYXJkQ29tYm9MaXN0KHRoaXMucGxheWVyLmdldENhcmRzKCkpO1xuICAgIH1cblxuICAgIGNvbW1pdENoYW5nZXMoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRzID0gZ2FtZS5wbGF5ZXIuc2VsZWN0ZWRDYXJkc1RvQmVDaGFuZ2VkLnNwbGljZSgwLCBnYW1lLnBsYXllci5zZWxlY3RlZENhcmRzVG9CZUNoYW5nZWQubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FyZHNMZW4gPSBjYXJkcy5sZW5ndGg7XG4gICAgICAgIGNhcmRzLmZvckVhY2goZnVuY3Rpb24gKGMpIHsgYy5kZXN0cm95KCk7IH0pO1xuICAgICAgICB0aGlzLmRpc3RyaWJ1dGUoY2FyZHNMZW4pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gR3VpQ2xhc3MgLSBUaGUgR3VpQ2xhc3MgdG8gaW5zdGFudGlhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzd3QgLSB0cnVlIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIGlmIGl0IGRvZXNudCBleGlzdHMsIGZhbHNlIHdpbGwgZGVzdHJveSBpdFxuICAgICAqL1xuICAgIHRvZ2dsZUd1aUVsZW1lbnRQcmVzZW5jZShHdWlDbGFzcywgc3d0KSB7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IHRoaXMuZ3VpLmNoaWxkcmVuLmZpbmQoKGQpID0+IGQgaW5zdGFuY2VvZiBHdWlDbGFzcyk7XG4gICAgICAgIGlmICh0eXBlb2Ygc3d0ID09PSAndW5kZWZpbmVkJykgc3d0ID0gIWluc3RhbmNlO1xuICAgICAgICBpZiAoIWluc3RhbmNlICYmIHN3dCkge1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgR3VpQ2xhc3MoKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZENoaWxkKGluc3RhbmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZSAmJiAhc3d0KSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5HYW1lLlNUQVRFX0lOVFJPID0gMTtcbkdhbWUuU1RBVEVfUExBWUlORyA9IDI7XG5HYW1lLlNUQVRFX0dBTUVPVkVSID0gNDtcblxuR2FtZS5TVEFURV9QTEFZSU5HX0NIT09TRV9CRVQgPSAxO1xuR2FtZS5TVEFURV9QTEFZSU5HX0NIT09TRV9DQVJEUyA9IDI7XG5HYW1lLlNUQVRFX1BMQVlJTkdfRVhDSEFOR0VfQ0FSRF9UUkFOU0lUSU9OID0gNDtcbkdhbWUuU1RBVEVfUExBWUlOR19ESVNQTEFZX1JJVkVSX1NDT1JFID0gODtcbkdhbWUuU1RBVEVfUExBWUlOR19DSE9PU0VfUklTSyA9IDE2O1xuR2FtZS5TVEFURV9QTEFZSU5HX0NIT09TRV9VUF9PUl9ET1dOID0gMzI7XG5HYW1lLlNUQVRFX1BMQVlJTkdfVVBfT1JfRE9XTl9TQ09SRSA9IDY0O1xuXG4iLCJpbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi9DYXJkJztcbmltcG9ydCBUcmFja2VyIGZyb20gJy4vVHJhY2tlcic7XG5cblRyYWNrZXIudHJhY2soJ3BhZ2V2aWV3Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBDYXJkLCBHYW1lXG59OyJdLCJuYW1lcyI6WyJVcGRhdGFibGVDb250YWluZXIiLCJnYW1lIiwidXBkYXRlQ2hpbGRyZW4iLCJjaGlsZHJlbiIsImZvckVhY2giLCJjaGlsZCIsInVwZGF0ZSIsIlBJWEkiLCJDb250YWluZXIiLCJORVdUT05fSVRFUkFUSU9OUyIsIk5FV1RPTl9NSU5fU0xPUEUiLCJTVUJESVZJU0lPTl9QUkVDSVNJT04iLCJTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyIsImtTcGxpbmVUYWJsZVNpemUiLCJrU2FtcGxlU3RlcFNpemUiLCJmbG9hdDMyQXJyYXlTdXBwb3J0ZWQiLCJGbG9hdDMyQXJyYXkiLCJBIiwiYUExIiwiYUEyIiwiQiIsIkMiLCJjYWxjQmV6aWVyIiwiYVQiLCJnZXRTbG9wZSIsImJpbmFyeVN1YmRpdmlkZSIsImFYIiwiYUEiLCJhQiIsIm1YMSIsIm1YMiIsImN1cnJlbnRYIiwiY3VycmVudFQiLCJpIiwiTWF0aCIsImFicyIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUd1ZXNzVCIsImN1cnJlbnRTbG9wZSIsIkNhcmQiLCJvcHRpb25zIiwidmFsdWUiLCJzdWl0Iiwid2lkdGgiLCJoZWlnaHQiLCJvcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxIZWlnaHQiLCJkcmF3QmFja2dyb3VuZCIsInZhbHVlVGV4dCIsIlRleHQiLCJnZXRWYWx1ZSIsInN1aXRUZXh0IiwiZ2V0U3VpdCIsImlzSGlnaGxpZ2h0ZWQiLCJ4IiwieSIsImFuY2hvciIsInNldCIsImFkZENoaWxkIiwic2hhZG93U3RlcHMiLCJjbGVhciIsImxpbmVTdHlsZSIsImJlZ2luRmlsbCIsImRyYXdSb3VuZGVkUmVjdCIsImVuZEZpbGwiLCJDYXJkc0dlbmVyYXRvciIsIkpPS0VSX1ZBTFVFIiwiSk9LRVIiLCJTVUlUUyIsIlZBTFVFX0xBQkVMUyIsIkdyYXBoaWNzIiwiQ2FyZENvbGxlY3Rpb24iLCJhcnJheU9mQ2FyZCIsIkFycmF5IiwiaXNBcnJheSIsImNhcmRzIiwic2xpY2UiLCJwdXNoIiwiY2FyZCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZpbmQiLCJjIiwib3V0cHV0IiwiaW5wdXQiLCJ0b0FycmF5IiwibGVuZ3RoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1aXRJbmRleCIsInZhbHVlSW5kZXgiLCJDQVJEX1dJRFRIIiwiQ0FSRF9IRUlHSFQiLCJMaW5lYXJMYXlvdXQiLCJjaGlsZE1hcmdpbiIsInNldE9yaWVudGF0aW9uIiwib3JpZW50YXRpb24iLCJPUklFTlRBVElPTl9WRVJUSUNBTCIsIl9vcmllbnRhdGlvbiIsIl9wb3NQcm9wZXJ0eU5hbWUiLCJfc2l6ZVByb3BlcnR5TmFtZSIsIk9SSUVOVEFUSU9OX0hPUklaT05UQUwiLCJjaGlsZEluZGV4IiwiZ2V0Q2hpbGRBdCIsIlBvaW50IiwicGl2b3QiLCJ1cGRhdGVDaGlsZHJlblBvc2l0aW9uIiwicG9zIiwiUGxheWVyQXJlYSIsInNlbGVjdGVkQ2FyZHNUb0JlQ2hhbmdlZCIsIm91dCIsInN3dCIsImluZGV4T2ZDYXJkIiwiaXNTZWxlY3RlZCIsIl9pZGVudGl0eSIsImQiLCJhcnJheSIsInByZWRpY2F0ZSIsImlkcyIsImlkIiwiYSIsImIiLCJtaW4iLCJtYXgiLCJDb21ib1R5cGUiLCJDYXJkQ29tYm9MaXN0IiwiY2FyZHNDb2xsZWN0aW9uIiwib3JpZ2luYWxDb2xsZWN0aW9uIiwiY29tYm9zIiwiX3BhcnNlIiwib2JqZWN0cyIsImFkZCIsIm9iamVjdCIsImNhcmRDb21ibyIsIkNhcmRDb21ibyIsInNvcnQiLCJ0eXBlIiwiSGlnaGVyQ2FyZCIsIl9nZXRIaWdoZXJDYXJkIiwiYWRkQWxsIiwiX2dldFhPZkFLaW5kIiwidHdvUGFpcnNDb21ibyIsIl9nZXRUd29QYWlycyIsInN0cmFpZ2h0Q29tYm8iLCJfZ2V0U3RyYWlnaHQiLCJmbHVzaENvbWJvIiwiX2dldEZsdXNoIiwiZnVsbEhvdXNlQ29tYm8iLCJfZ2V0RnVsbEhvdXNlIiwic3RyYWlnaHRGbHVzaENvbWJvIiwiX2dldFN0cmFpZ2h0Rmx1c2giLCJOdW1iZXJzIiwiQ29tcGFyZSIsImRlc2MiLCJnZXRTY29yZSIsInBhaXJzIiwiY29tYm8iLCJQYWlyIiwiX2lzQWxsQ2FyZERpZmZlcmVudHMiLCJUd29QYWlyIiwiY29uY2F0IiwibWFwIiwiY29tYm9UeXBlTWFwcGVyIiwiVGhyZWVPZkFLaW5kIiwiRm91ck9mQUtpbmQiLCJGaXZlT2ZBS2luZCIsImNhcmRJbmRleCIsImxvY2FsZUNhcmRzIiwiaXNKb2tlciIsIkFycmF5cyIsInVuaXEiLCJnZXRJZCIsInBhaXIiLCJ0aHJlZU9mQUtpbmQiLCJGdWxsSG91c2UiLCJnZXRDYXJkcyIsInZhbHVlcyIsImFzYyIsImpva2VycyIsImZpbHRlciIsIm1hdGNoIiwiU3RyYWlnaHQiLCJibGFjayIsInJlZCIsInRlc3QiLCJGbHVzaCIsImZsdXNoIiwic3RyYWlnaHQiLCJTdHJhaWdodEZsdXNoIiwiYzEiLCJjMiIsImMxQ2FyZHMiLCJjMkNhcmRzIiwiaTEiLCJpMiIsImpvaW4iLCJwZWVrIiwiX3NvcnRDYXJkcyIsImtleXMiLCJPYmplY3QiLCJrZXkiLCJnZXRUeXBlTmFtZSIsIkRlYnVnIiwiR1VJQ29tYm9zTGlzdCIsInRleHRDb25maWciLCJ0ZXh0IiwiZ2V0Q2FyZENvbWJvTGlzdCIsImtleWJvYXJkU3RhdGUiLCJNYXAiLCJsYXN0S2V5Ym9hcmRTdGF0ZSIsIktleWJvYXJkIiwia2V5Q29kZSIsImdldCIsImlzS2V5VXAiLCJpc0tleURvd24iLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJHVUlDYXJkU2VsZWN0b3IiLCJXSURUSCIsIkhFSUdIVCIsIm1vdmVUbyIsImxpbmVUbyIsIm9yaWdpbmFsWSIsInNldEN1cnNvckNhcmRJbmRleCIsInAiLCJwbGF5ZXIiLCJnZXRDaGlsZFBvc2l0aW9uIiwiY29zIiwiX2ZyYW1lIiwiaXNLZXlQdXNoZWQiLCJMRUZUX0FSUk9XIiwiUklHSFRfQVJST1ciLCJVUF9BUlJPVyIsInNldFNlbGVjdGVkQ2FyZEluZGV4IiwiRE9XTl9BUlJPVyIsIkVOVEVSIiwiZGVzdHJveSIsIkdVSVRleHQiLCJ0ZXh0U3R5bGUiLCJ0YWdzIiwiaXNNZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9wVHJhY2tpbmciLCJsb2NhdGlvbiIsIm1peHBhbmVsIiwiY29uc29sZSIsImxvZyIsImlkZW50aWZ5IiwiZXZlbnROYW1lIiwicHJvcGVydGllcyIsImNhbGxiYWNrIiwidHJhY2siLCJ0aWNrZXIiLCJzaGFyZWQiLCJHYW1lIiwiZ2FtZVN0YXRlIiwiR0FNRV9JRExFIiwicGxheWluZ0dhbWVTdGF0ZSIsIlNUQVRFX1BMQVlJTkdfQ0hPT1NFX0JFVCIsImZnIiwiZ3VpIiwicmVuZGVyaW5nQ29udGFpbmVyIiwicmVuZGVyZXJPcHRpb25zIiwidHJhbnNwYXJlbnQiLCJhdXRvUmVzaXplIiwiYW50aWFsaWFzIiwicmVzb2x1dGlvbiIsImJhY2tncm91bmRDb2xvciIsInJvdW5kUGl4ZWxzIiwicmVuZGVyZXIiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJjb250YWluZXIiLCJhcHBlbmRDaGlsZCIsInZpZXciLCJzZXRTaXplIiwiY2xlYXJHYW1lIiwic3RvcCIsInJlbW92ZUNoaWxkcmVuIiwic3RhZ2VXaWR0aCIsInN0YWdlSGVpZ2h0IiwiY2xlYXJCb2FyZCIsInNldFBsYXlpbmdTdGF0ZSIsIlNUQVRFX1BMQVlJTkdfQ0hPT1NFX0NBUkRTIiwiZ2VuZXJhdGVDYXJkcyIsInNodWZmbGUiLCJjb3VudCIsInJlbW92ZSIsInN0YXRlIiwiZGlzdHJpYnV0ZSIsImRpc3BsYXlDYXJkQ3Vyc29yU2VsZWN0aW9uIiwiU1RBVEVfUExBWUlOR19ESVNQTEFZX1JJVkVSX1NDT1JFIiwiY29tbWl0Q2hhbmdlcyIsImdldEhpZ2hlckNvbWJvIiwiaGlnaGxpZ2h0IiwiU3RyaW5nIiwic2NvcmUiLCJmb250U2l6ZSIsIlNUQVRFX1BMQVlJTkdfQ0hPT1NFX1JJU0siLCJGUFMiLCJzdGFydGVkIiwiR0FNRV9QTEFZSU5HIiwidyIsImgiLCJzdHlsZSIsInJlc2l6ZSIsImlzUnVubmluZyIsInNldFN0YXRlIiwiU1RBVEVfUExBWUlORyIsImxvb3AiLCJzdGFydCIsInRpbWUiLCJTUEFDRSIsInJlbmRlciIsImNhcmRzTGVuIiwiR3VpQ2xhc3MiLCJpbnN0YW5jZSIsIlNUQVRFX0lOVFJPIiwiU1RBVEVfR0FNRU9WRVIiLCJTVEFURV9QTEFZSU5HX0VYQ0hBTkdFX0NBUkRfVFJBTlNJVElPTiIsIlNUQVRFX1BMQVlJTkdfQ0hPT1NFX1VQX09SX0RPV04iLCJTVEFURV9QTEFZSU5HX1VQX09SX0RPV05fU0NPUkUiLCJUcmFja2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQXFCQTs7Ozs7Ozs7OzsrQkFDVkMsTUFBTTtpQkFDSkMsY0FBTCxDQUFvQkQsSUFBcEI7Ozs7dUNBR1dBLE1BQU07aUJBQ1pFLFFBQUwsQ0FBY0MsT0FBZCxDQUFzQixVQUFVQyxLQUFWLEVBQWlC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"}